(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var $u={exports:{}},Xs={},Ru={exports:{}},O={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rn=Symbol.for("react.element"),Nh=Symbol.for("react.portal"),Ch=Symbol.for("react.fragment"),Ph=Symbol.for("react.strict_mode"),Ih=Symbol.for("react.profiler"),Ah=Symbol.for("react.provider"),Th=Symbol.for("react.context"),Lh=Symbol.for("react.forward_ref"),$h=Symbol.for("react.suspense"),Rh=Symbol.for("react.memo"),Dh=Symbol.for("react.lazy"),il=Symbol.iterator;function Oh(t){return t===null||typeof t!="object"?null:(t=il&&t[il]||t["@@iterator"],typeof t=="function"?t:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ou=Object.assign,Uu={};function Mr(t,e,r){this.props=t,this.context=e,this.refs=Uu,this.updater=r||Du}Mr.prototype.isReactComponent={};Mr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mu(){}Mu.prototype=Mr.prototype;function aa(t,e,r){this.props=t,this.context=e,this.refs=Uu,this.updater=r||Du}var la=aa.prototype=new Mu;la.constructor=aa;Ou(la,Mr.prototype);la.isPureReactComponent=!0;var al=Array.isArray,Fu=Object.prototype.hasOwnProperty,ua={current:null},zu={key:!0,ref:!0,__self:!0,__source:!0};function Bu(t,e,r){var n,s={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Fu.call(e,n)&&!zu.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Rn,type:t,key:o,ref:i,props:s,_owner:ua.current}}function Uh(t,e){return{$$typeof:Rn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ca(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rn}function Mh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ll=/\/+/g;function Eo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mh(""+t.key):e.toString(36)}function ms(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Rn:case Nh:i=!0}}if(i)return i=t,s=s(i),t=n===""?"."+Eo(i,0):n,al(s)?(r="",t!=null&&(r=t.replace(ll,"$&/")+"/"),ms(s,e,r,"",function(u){return u})):s!=null&&(ca(s)&&(s=Uh(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(ll,"$&/")+"/")+t)),e.push(s)),1;if(i=0,n=n===""?".":n+":",al(t))for(var a=0;a<t.length;a++){o=t[a];var l=n+Eo(o,a);i+=ms(o,e,r,l,s)}else if(l=Oh(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=n+Eo(o,a++),i+=ms(o,e,r,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function qn(t,e,r){if(t==null)return t;var n=[],s=0;return ms(t,n,"","",function(o){return e.call(r,o,s++)}),n}function Fh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ve={current:null},gs={transition:null},zh={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:gs,ReactCurrentOwner:ua};function Hu(){throw Error("act(...) is not supported in production builds of React.")}O.Children={map:qn,forEach:function(t,e,r){qn(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qn(t,function(){e++}),e},toArray:function(t){return qn(t,function(e){return e})||[]},only:function(t){if(!ca(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};O.Component=Mr;O.Fragment=Ch;O.Profiler=Ih;O.PureComponent=aa;O.StrictMode=Ph;O.Suspense=$h;O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zh;O.act=Hu;O.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ou({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=ua.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Fu.call(e,l)&&!zu.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Rn,type:t.type,key:s,ref:o,props:n,_owner:i}};O.createContext=function(t){return t={$$typeof:Th,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ah,_context:t},t.Consumer=t};O.createElement=Bu;O.createFactory=function(t){var e=Bu.bind(null,t);return e.type=t,e};O.createRef=function(){return{current:null}};O.forwardRef=function(t){return{$$typeof:Lh,render:t}};O.isValidElement=ca;O.lazy=function(t){return{$$typeof:Dh,_payload:{_status:-1,_result:t},_init:Fh}};O.memo=function(t,e){return{$$typeof:Rh,type:t,compare:e===void 0?null:e}};O.startTransition=function(t){var e=gs.transition;gs.transition={};try{t()}finally{gs.transition=e}};O.unstable_act=Hu;O.useCallback=function(t,e){return ve.current.useCallback(t,e)};O.useContext=function(t){return ve.current.useContext(t)};O.useDebugValue=function(){};O.useDeferredValue=function(t){return ve.current.useDeferredValue(t)};O.useEffect=function(t,e){return ve.current.useEffect(t,e)};O.useId=function(){return ve.current.useId()};O.useImperativeHandle=function(t,e,r){return ve.current.useImperativeHandle(t,e,r)};O.useInsertionEffect=function(t,e){return ve.current.useInsertionEffect(t,e)};O.useLayoutEffect=function(t,e){return ve.current.useLayoutEffect(t,e)};O.useMemo=function(t,e){return ve.current.useMemo(t,e)};O.useReducer=function(t,e,r){return ve.current.useReducer(t,e,r)};O.useRef=function(t){return ve.current.useRef(t)};O.useState=function(t){return ve.current.useState(t)};O.useSyncExternalStore=function(t,e,r){return ve.current.useSyncExternalStore(t,e,r)};O.useTransition=function(){return ve.current.useTransition()};O.version="18.3.1";Ru.exports=O;var A=Ru.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh=A,Hh=Symbol.for("react.element"),Wh=Symbol.for("react.fragment"),Vh=Object.prototype.hasOwnProperty,Gh=Bh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qh={key:!0,ref:!0,__self:!0,__source:!0};function Wu(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)Vh.call(e,n)&&!qh.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Hh,type:t,key:o,ref:i,props:s,_owner:Gh.current}}Xs.Fragment=Wh;Xs.jsx=Wu;Xs.jsxs=Wu;$u.exports=Xs;var c=$u.exports,Vu={exports:{}},Ae={},Gu={exports:{}},qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,L){var R=P.length;P.push(L);e:for(;0<R;){var Z=R-1>>>1,re=P[Z];if(0<s(re,L))P[Z]=L,P[R]=re,R=Z;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],R=P.pop();if(R!==L){P[0]=R;e:for(var Z=0,re=P.length,Vn=re>>>1;Z<Vn;){var Ft=2*(Z+1)-1,jo=P[Ft],zt=Ft+1,Gn=P[zt];if(0>s(jo,R))zt<re&&0>s(Gn,jo)?(P[Z]=Gn,P[zt]=R,Z=zt):(P[Z]=jo,P[Ft]=R,Z=Ft);else if(zt<re&&0>s(Gn,R))P[Z]=Gn,P[zt]=R,Z=zt;else break e}}return L}function s(P,L){var R=P.sortIndex-L.sortIndex;return R!==0?R:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,f=3,v=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(P){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=P)n(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=r(u)}}function w(P){if(x=!1,m(P),!y)if(r(l)!==null)y=!0,So(_);else{var L=r(u);L!==null&&bo(w,L.startTime-P)}}function _(P,L){y=!1,x&&(x=!1,g(b),b=-1),v=!0;var R=f;try{for(m(L),h=r(l);h!==null&&(!(h.expirationTime>L)||P&&!F());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var re=Z(h.expirationTime<=L);L=t.unstable_now(),typeof re=="function"?h.callback=re:h===r(l)&&n(l),m(L)}else n(l);h=r(l)}if(h!==null)var Vn=!0;else{var Ft=r(u);Ft!==null&&bo(w,Ft.startTime-L),Vn=!1}return Vn}finally{h=null,f=R,v=!1}}var k=!1,j=null,b=-1,I=5,N=-1;function F(){return!(t.unstable_now()-N<I)}function M(){if(j!==null){var P=t.unstable_now();N=P;var L=!0;try{L=j(!0,P)}finally{L?ue():(k=!1,j=null)}}else k=!1}var ue;if(typeof p=="function")ue=function(){p(M)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,jh=Qe.port2;Qe.port1.onmessage=M,ue=function(){jh.postMessage(null)}}else ue=function(){S(M,0)};function So(P){j=P,k||(k=!0,ue())}function bo(P,L){b=S(function(){P(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,So(_))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var R=f;f=L;try{return P()}finally{f=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var R=f;f=P;try{return L()}finally{f=R}},t.unstable_scheduleCallback=function(P,L,R){var Z=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?Z+R:Z):R=Z,P){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=R+re,P={id:d++,callback:L,priorityLevel:P,startTime:R,expirationTime:re,sortIndex:-1},R>Z?(P.sortIndex=R,e(u,P),r(l)===null&&P===r(u)&&(x?(g(b),b=-1):x=!0,bo(w,R-Z))):(P.sortIndex=re,e(l,P),y||v||(y=!0,So(_))),P},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(P){var L=f;return function(){var R=f;f=L;try{return P.apply(this,arguments)}finally{f=R}}}})(qu);Gu.exports=qu;var Kh=Gu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=A,Ie=Kh;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ku=new Set,vn={};function nr(t,e){Ar(t,e),Ar(t+"Capture",e)}function Ar(t,e){for(vn[t]=e,t=0;t<e.length;t++)Ku.add(e[t])}var ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ii=Object.prototype.hasOwnProperty,Jh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ul={},cl={};function Zh(t){return ii.call(cl,t)?!0:ii.call(ul,t)?!1:Jh.test(t)?cl[t]=!0:(ul[t]=!0,!1)}function Yh(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Xh(t,e,r,n){if(e===null||typeof e>"u"||Yh(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ye(t,e,r,n,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){le[t]=new ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];le[e]=new ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){le[t]=new ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){le[t]=new ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){le[t]=new ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){le[t]=new ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){le[t]=new ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){le[t]=new ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){le[t]=new ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var da=/[\-:]([a-z])/g;function ha(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(da,ha);le[e]=new ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(da,ha);le[e]=new ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(da,ha);le[e]=new ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){le[t]=new ye(t,1,!1,t.toLowerCase(),null,!1,!1)});le.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){le[t]=new ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function fa(t,e,r,n){var s=le.hasOwnProperty(e)?le[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Xh(e,r,s,n)&&(r=null),n||s===null?Zh(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var pt=Qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kn=Symbol.for("react.element"),hr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),pa=Symbol.for("react.strict_mode"),ai=Symbol.for("react.profiler"),Qu=Symbol.for("react.provider"),Ju=Symbol.for("react.context"),ma=Symbol.for("react.forward_ref"),li=Symbol.for("react.suspense"),ui=Symbol.for("react.suspense_list"),ga=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Zu=Symbol.for("react.offscreen"),dl=Symbol.iterator;function Wr(t){return t===null||typeof t!="object"?null:(t=dl&&t[dl]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,No;function Xr(t){if(No===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);No=e&&e[1]||""}return`
`+No+t}var Co=!1;function Po(t,e){if(!t||Co)return"";Co=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Co=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xr(t):""}function ef(t){switch(t.tag){case 5:return Xr(t.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 2:case 15:return t=Po(t.type,!1),t;case 11:return t=Po(t.type.render,!1),t;case 1:return t=Po(t.type,!0),t;default:return""}}function ci(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fr:return"Fragment";case hr:return"Portal";case ai:return"Profiler";case pa:return"StrictMode";case li:return"Suspense";case ui:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ju:return(t.displayName||"Context")+".Consumer";case Qu:return(t._context.displayName||"Context")+".Provider";case ma:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ga:return e=t.displayName||null,e!==null?e:ci(t.type)||"Memo";case vt:e=t._payload,t=t._init;try{return ci(t(e))}catch{}}return null}function tf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ci(e);case 8:return e===pa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rf(t){var e=Yu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qn(t){t._valueTracker||(t._valueTracker=rf(t))}function Xu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Yu(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function di(t,e){var r=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function hl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Lt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ec(t,e){e=e.checked,e!=null&&fa(t,"checked",e,!1)}function hi(t,e){ec(t,e);var r=Lt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fi(t,e.type,r):e.hasOwnProperty("defaultValue")&&fi(t,e.type,Lt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fl(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function fi(t,e,r){(e!=="number"||Ns(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var en=Array.isArray;function br(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Lt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pi(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pl(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(en(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Lt(r)}}function tc(t,e){var r=Lt(e.value),n=Lt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ml(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mi(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jn,nc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jn=Jn||document.createElement("div"),Jn.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nf=["Webkit","ms","Moz","O"];Object.keys(sn).forEach(function(t){nf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sn[e]=sn[t]})});function sc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||sn.hasOwnProperty(t)&&sn[t]?(""+e).trim():e+"px"}function oc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var sf=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gi(t,e){if(e){if(sf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function vi(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=null;function va(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wi=null,jr=null,Er=null;function gl(t){if(t=Un(t)){if(typeof wi!="function")throw Error(E(280));var e=t.stateNode;e&&(e=so(e),wi(t.stateNode,t.type,e))}}function ic(t){jr?Er?Er.push(t):Er=[t]:jr=t}function ac(){if(jr){var t=jr,e=Er;if(Er=jr=null,gl(t),e)for(t=0;t<e.length;t++)gl(e[t])}}function lc(t,e){return t(e)}function uc(){}var Io=!1;function cc(t,e,r){if(Io)return t(e,r);Io=!0;try{return lc(t,e,r)}finally{Io=!1,(jr!==null||Er!==null)&&(uc(),ac())}}function wn(t,e){var r=t.stateNode;if(r===null)return null;var n=so(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var xi=!1;if(ct)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){xi=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{xi=!1}function of(t,e,r,n,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var on=!1,Cs=null,Ps=!1,_i=null,af={onError:function(t){on=!0,Cs=t}};function lf(t,e,r,n,s,o,i,a,l){on=!1,Cs=null,of.apply(af,arguments)}function uf(t,e,r,n,s,o,i,a,l){if(lf.apply(this,arguments),on){if(on){var u=Cs;on=!1,Cs=null}else throw Error(E(198));Ps||(Ps=!0,_i=u)}}function sr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vl(t){if(sr(t)!==t)throw Error(E(188))}function cf(t){var e=t.alternate;if(!e){if(e=sr(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return vl(s),t;if(o===n)return vl(s),e;o=o.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function hc(t){return t=cf(t),t!==null?fc(t):null}function fc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fc(t);if(e!==null)return e;t=t.sibling}return null}var pc=Ie.unstable_scheduleCallback,yl=Ie.unstable_cancelCallback,df=Ie.unstable_shouldYield,hf=Ie.unstable_requestPaint,Y=Ie.unstable_now,ff=Ie.unstable_getCurrentPriorityLevel,ya=Ie.unstable_ImmediatePriority,mc=Ie.unstable_UserBlockingPriority,Is=Ie.unstable_NormalPriority,pf=Ie.unstable_LowPriority,gc=Ie.unstable_IdlePriority,eo=null,Xe=null;function mf(t){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(eo,t,void 0,(t.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:yf,gf=Math.log,vf=Math.LN2;function yf(t){return t>>>=0,t===0?32:31-(gf(t)/vf|0)|0}var Zn=64,Yn=4194304;function tn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function As(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=tn(a):(o&=i,o!==0&&(n=tn(o)))}else i=r&~s,i!==0?n=tn(i):o!==0&&(n=tn(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ge(e),s=1<<r,n|=t[r],e&=~s;return n}function wf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Ge(o),a=1<<i,l=s[i];l===-1?(!(a&r)||a&n)&&(s[i]=wf(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ki(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vc(){var t=Zn;return Zn<<=1,!(Zn&4194240)&&(Zn=64),t}function Ao(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Dn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ge(e),t[e]=r}function _f(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ge(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function wa(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ge(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var z=0;function yc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wc,xa,xc,_c,kc,Si=!1,Xn=[],jt=null,Et=null,Nt=null,xn=new Map,_n=new Map,xt=[],kf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wl(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":xn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(e.pointerId)}}function Gr(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Un(e),e!==null&&xa(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Sf(t,e,r,n,s){switch(e){case"focusin":return jt=Gr(jt,t,e,r,n,s),!0;case"dragenter":return Et=Gr(Et,t,e,r,n,s),!0;case"mouseover":return Nt=Gr(Nt,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return xn.set(o,Gr(xn.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,_n.set(o,Gr(_n.get(o)||null,t,e,r,n,s)),!0}return!1}function Sc(t){var e=qt(t.target);if(e!==null){var r=sr(e);if(r!==null){if(e=r.tag,e===13){if(e=dc(r),e!==null){t.blockedOn=e,kc(t.priority,function(){xc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=bi(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);yi=n,r.target.dispatchEvent(n),yi=null}else return e=Un(r),e!==null&&xa(e),t.blockedOn=r,!1;e.shift()}return!0}function xl(t,e,r){vs(t)&&r.delete(e)}function bf(){Si=!1,jt!==null&&vs(jt)&&(jt=null),Et!==null&&vs(Et)&&(Et=null),Nt!==null&&vs(Nt)&&(Nt=null),xn.forEach(xl),_n.forEach(xl)}function qr(t,e){t.blockedOn===e&&(t.blockedOn=null,Si||(Si=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,bf)))}function kn(t){function e(s){return qr(s,t)}if(0<Xn.length){qr(Xn[0],t);for(var r=1;r<Xn.length;r++){var n=Xn[r];n.blockedOn===t&&(n.blockedOn=null)}}for(jt!==null&&qr(jt,t),Et!==null&&qr(Et,t),Nt!==null&&qr(Nt,t),xn.forEach(e),_n.forEach(e),r=0;r<xt.length;r++)n=xt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<xt.length&&(r=xt[0],r.blockedOn===null);)Sc(r),r.blockedOn===null&&xt.shift()}var Nr=pt.ReactCurrentBatchConfig,Ts=!0;function jf(t,e,r,n){var s=z,o=Nr.transition;Nr.transition=null;try{z=1,_a(t,e,r,n)}finally{z=s,Nr.transition=o}}function Ef(t,e,r,n){var s=z,o=Nr.transition;Nr.transition=null;try{z=4,_a(t,e,r,n)}finally{z=s,Nr.transition=o}}function _a(t,e,r,n){if(Ts){var s=bi(t,e,r,n);if(s===null)zo(t,e,n,Ls,r),wl(t,n);else if(Sf(s,t,e,r,n))n.stopPropagation();else if(wl(t,n),e&4&&-1<kf.indexOf(t)){for(;s!==null;){var o=Un(s);if(o!==null&&wc(o),o=bi(t,e,r,n),o===null&&zo(t,e,n,Ls,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else zo(t,e,n,null,r)}}var Ls=null;function bi(t,e,r,n){if(Ls=null,t=va(n),t=qt(t),t!==null)if(e=sr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ls=t,null}function bc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ff()){case ya:return 1;case mc:return 4;case Is:case pf:return 16;case gc:return 536870912;default:return 16}default:return 16}}var St=null,ka=null,ys=null;function jc(){if(ys)return ys;var t,e=ka,r=e.length,n,s="value"in St?St.value:St.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===s[o-n];n++);return ys=s.slice(t,1<n?1-n:void 0)}function ws(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function es(){return!0}function _l(){return!1}function Te(t){function e(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?es:_l,this.isPropagationStopped=_l,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),e}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Te(Fr),On=Q({},Fr,{view:0,detail:0}),Nf=Te(On),To,Lo,Kr,to=Q({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ba,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kr&&(Kr&&t.type==="mousemove"?(To=t.screenX-Kr.screenX,Lo=t.screenY-Kr.screenY):Lo=To=0,Kr=t),To)},movementY:function(t){return"movementY"in t?t.movementY:Lo}}),kl=Te(to),Cf=Q({},to,{dataTransfer:0}),Pf=Te(Cf),If=Q({},On,{relatedTarget:0}),$o=Te(If),Af=Q({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tf=Te(Af),Lf=Q({},Fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$f=Te(Lf),Rf=Q({},Fr,{data:0}),Sl=Te(Rf),Df={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Of={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Uf[t])?!!e[t]:!1}function ba(){return Mf}var Ff=Q({},On,{key:function(t){if(t.key){var e=Df[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Of[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ba,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zf=Te(Ff),Bf=Q({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Te(Bf),Hf=Q({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ba}),Wf=Te(Hf),Vf=Q({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gf=Te(Vf),qf=Q({},to,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kf=Te(qf),Qf=[9,13,27,32],ja=ct&&"CompositionEvent"in window,an=null;ct&&"documentMode"in document&&(an=document.documentMode);var Jf=ct&&"TextEvent"in window&&!an,Ec=ct&&(!ja||an&&8<an&&11>=an),jl=" ",El=!1;function Nc(t,e){switch(t){case"keyup":return Qf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pr=!1;function Zf(t,e){switch(t){case"compositionend":return Cc(e);case"keypress":return e.which!==32?null:(El=!0,jl);case"textInput":return t=e.data,t===jl&&El?null:t;default:return null}}function Yf(t,e){if(pr)return t==="compositionend"||!ja&&Nc(t,e)?(t=jc(),ys=ka=St=null,pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ec&&e.locale!=="ko"?null:e.data;default:return null}}var Xf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xf[t.type]:e==="textarea"}function Pc(t,e,r,n){ic(n),e=$s(e,"onChange"),0<e.length&&(r=new Sa("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ln=null,Sn=null;function ep(t){Fc(t,0)}function ro(t){var e=vr(t);if(Xu(e))return t}function tp(t,e){if(t==="change")return e}var Ic=!1;if(ct){var Ro;if(ct){var Do="oninput"in document;if(!Do){var Cl=document.createElement("div");Cl.setAttribute("oninput","return;"),Do=typeof Cl.oninput=="function"}Ro=Do}else Ro=!1;Ic=Ro&&(!document.documentMode||9<document.documentMode)}function Pl(){ln&&(ln.detachEvent("onpropertychange",Ac),Sn=ln=null)}function Ac(t){if(t.propertyName==="value"&&ro(Sn)){var e=[];Pc(e,Sn,t,va(t)),cc(ep,e)}}function rp(t,e,r){t==="focusin"?(Pl(),ln=e,Sn=r,ln.attachEvent("onpropertychange",Ac)):t==="focusout"&&Pl()}function np(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ro(Sn)}function sp(t,e){if(t==="click")return ro(e)}function op(t,e){if(t==="input"||t==="change")return ro(e)}function ip(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ke=typeof Object.is=="function"?Object.is:ip;function bn(t,e){if(Ke(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ii.call(e,s)||!Ke(t[s],e[s]))return!1}return!0}function Il(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Al(t,e){var r=Il(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Il(r)}}function Tc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lc(){for(var t=window,e=Ns();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ns(t.document)}return e}function Ea(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ap(t){var e=Lc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Tc(r.ownerDocument.documentElement,r)){if(n!==null&&Ea(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=Al(r,o);var i=Al(r,n);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lp=ct&&"documentMode"in document&&11>=document.documentMode,mr=null,ji=null,un=null,Ei=!1;function Tl(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ei||mr==null||mr!==Ns(n)||(n=mr,"selectionStart"in n&&Ea(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),un&&bn(un,n)||(un=n,n=$s(ji,"onSelect"),0<n.length&&(e=new Sa("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=mr)))}function ts(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var gr={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionend:ts("Transition","TransitionEnd")},Oo={},$c={};ct&&($c=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function no(t){if(Oo[t])return Oo[t];if(!gr[t])return t;var e=gr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in $c)return Oo[t]=e[r];return t}var Rc=no("animationend"),Dc=no("animationiteration"),Oc=no("animationstart"),Uc=no("transitionend"),Mc=new Map,Ll="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rt(t,e){Mc.set(t,e),nr(e,[t])}for(var Uo=0;Uo<Ll.length;Uo++){var Mo=Ll[Uo],up=Mo.toLowerCase(),cp=Mo[0].toUpperCase()+Mo.slice(1);Rt(up,"on"+cp)}Rt(Rc,"onAnimationEnd");Rt(Dc,"onAnimationIteration");Rt(Oc,"onAnimationStart");Rt("dblclick","onDoubleClick");Rt("focusin","onFocus");Rt("focusout","onBlur");Rt(Uc,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dp=new Set("cancel close invalid load scroll toggle".split(" ").concat(rn));function $l(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,uf(n,e,void 0,t),t.currentTarget=null}function Fc(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;$l(s,a,u),o=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;$l(s,a,u),o=l}}}if(Ps)throw t=_i,Ps=!1,_i=null,t}function W(t,e){var r=e[Ai];r===void 0&&(r=e[Ai]=new Set);var n=t+"__bubble";r.has(n)||(zc(e,t,2,!1),r.add(n))}function Fo(t,e,r){var n=0;e&&(n|=4),zc(r,t,n,e)}var rs="_reactListening"+Math.random().toString(36).slice(2);function jn(t){if(!t[rs]){t[rs]=!0,Ku.forEach(function(r){r!=="selectionchange"&&(dp.has(r)||Fo(r,!1,t),Fo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rs]||(e[rs]=!0,Fo("selectionchange",!1,e))}}function zc(t,e,r,n){switch(bc(e)){case 1:var s=jf;break;case 4:s=Ef;break;default:s=_a}r=s.bind(null,e,r,t),s=void 0,!xi||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function zo(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=qt(a),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}a=a.parentNode}}n=n.return}cc(function(){var u=o,d=va(r),h=[];e:{var f=Mc.get(t);if(f!==void 0){var v=Sa,y=t;switch(t){case"keypress":if(ws(r)===0)break e;case"keydown":case"keyup":v=zf;break;case"focusin":y="focus",v=$o;break;case"focusout":y="blur",v=$o;break;case"beforeblur":case"afterblur":v=$o;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Wf;break;case Rc:case Dc:case Oc:v=Tf;break;case Uc:v=Gf;break;case"scroll":v=Nf;break;case"wheel":v=Kf;break;case"copy":case"cut":case"paste":v=$f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=bl}var x=(e&4)!==0,S=!x&&t==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var p=u,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=wn(p,g),w!=null&&x.push(En(p,w,m)))),S)break;p=p.return}0<x.length&&(f=new v(f,y,null,r,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==yi&&(y=r.relatedTarget||r.fromElement)&&(qt(y)||y[dt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?qt(y):null,y!==null&&(S=sr(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(x=kl,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=bl,w="onPointerLeave",g="onPointerEnter",p="pointer"),S=v==null?f:vr(v),m=y==null?f:vr(y),f=new x(w,p+"leave",v,r,d),f.target=S,f.relatedTarget=m,w=null,qt(d)===u&&(x=new x(g,p+"enter",y,r,d),x.target=m,x.relatedTarget=S,w=x),S=w,v&&y)t:{for(x=v,g=y,p=0,m=x;m;m=ir(m))p++;for(m=0,w=g;w;w=ir(w))m++;for(;0<p-m;)x=ir(x),p--;for(;0<m-p;)g=ir(g),m--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=ir(x),g=ir(g)}x=null}else x=null;v!==null&&Rl(h,f,v,x,!1),y!==null&&S!==null&&Rl(h,S,y,x,!0)}}e:{if(f=u?vr(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var _=tp;else if(Nl(f))if(Ic)_=op;else{_=np;var k=rp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=sp);if(_&&(_=_(t,u))){Pc(h,_,r,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&fi(f,"number",f.value)}switch(k=u?vr(u):window,t){case"focusin":(Nl(k)||k.contentEditable==="true")&&(mr=k,ji=u,un=null);break;case"focusout":un=ji=mr=null;break;case"mousedown":Ei=!0;break;case"contextmenu":case"mouseup":case"dragend":Ei=!1,Tl(h,r,d);break;case"selectionchange":if(lp)break;case"keydown":case"keyup":Tl(h,r,d)}var j;if(ja)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else pr?Nc(t,r)&&(b="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(Ec&&r.locale!=="ko"&&(pr||b!=="onCompositionStart"?b==="onCompositionEnd"&&pr&&(j=jc()):(St=d,ka="value"in St?St.value:St.textContent,pr=!0)),k=$s(u,b),0<k.length&&(b=new Sl(b,t,null,r,d),h.push({event:b,listeners:k}),j?b.data=j:(j=Cc(r),j!==null&&(b.data=j)))),(j=Jf?Zf(t,r):Yf(t,r))&&(u=$s(u,"onBeforeInput"),0<u.length&&(d=new Sl("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}Fc(h,e)})}function En(t,e,r){return{instance:t,listener:e,currentTarget:r}}function $s(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=wn(t,r),o!=null&&n.unshift(En(t,o,s)),o=wn(t,e),o!=null&&n.push(En(t,o,s))),t=t.return}return n}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rl(t,e,r,n,s){for(var o=e._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=wn(r,o),l!=null&&i.unshift(En(r,l,a))):s||(l=wn(r,o),l!=null&&i.push(En(r,l,a)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var hp=/\r\n?/g,fp=/\u0000|\uFFFD/g;function Dl(t){return(typeof t=="string"?t:""+t).replace(hp,`
`).replace(fp,"")}function ns(t,e,r){if(e=Dl(e),Dl(t)!==e&&r)throw Error(E(425))}function Rs(){}var Ni=null,Ci=null;function Pi(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ii=typeof setTimeout=="function"?setTimeout:void 0,pp=typeof clearTimeout=="function"?clearTimeout:void 0,Ol=typeof Promise=="function"?Promise:void 0,mp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ol<"u"?function(t){return Ol.resolve(null).then(t).catch(gp)}:Ii;function gp(t){setTimeout(function(){throw t})}function Bo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),kn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);kn(e)}function Ct(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ul(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var zr=Math.random().toString(36).slice(2),Ye="__reactFiber$"+zr,Nn="__reactProps$"+zr,dt="__reactContainer$"+zr,Ai="__reactEvents$"+zr,vp="__reactListeners$"+zr,yp="__reactHandles$"+zr;function qt(t){var e=t[Ye];if(e)return e;for(var r=t.parentNode;r;){if(e=r[dt]||r[Ye]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ul(t);t!==null;){if(r=t[Ye])return r;t=Ul(t)}return e}t=r,r=t.parentNode}return null}function Un(t){return t=t[Ye]||t[dt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function so(t){return t[Nn]||null}var Ti=[],yr=-1;function Dt(t){return{current:t}}function V(t){0>yr||(t.current=Ti[yr],Ti[yr]=null,yr--)}function H(t,e){yr++,Ti[yr]=t.current,t.current=e}var $t={},fe=Dt($t),be=Dt(!1),Yt=$t;function Tr(t,e){var r=t.type.contextTypes;if(!r)return $t;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function je(t){return t=t.childContextTypes,t!=null}function Ds(){V(be),V(fe)}function Ml(t,e,r){if(fe.current!==$t)throw Error(E(168));H(fe,e),H(be,r)}function Bc(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,tf(t)||"Unknown",s));return Q({},r,n)}function Os(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$t,Yt=fe.current,H(fe,t),H(be,be.current),!0}function Fl(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=Bc(t,e,Yt),n.__reactInternalMemoizedMergedChildContext=t,V(be),V(fe),H(fe,t)):V(be),H(be,r)}var st=null,oo=!1,Ho=!1;function Hc(t){st===null?st=[t]:st.push(t)}function wp(t){oo=!0,Hc(t)}function Ot(){if(!Ho&&st!==null){Ho=!0;var t=0,e=z;try{var r=st;for(z=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}st=null,oo=!1}catch(s){throw st!==null&&(st=st.slice(t+1)),pc(ya,Ot),s}finally{z=e,Ho=!1}}return null}var wr=[],xr=0,Us=null,Ms=0,Le=[],$e=0,Xt=null,it=1,at="";function Ht(t,e){wr[xr++]=Ms,wr[xr++]=Us,Us=t,Ms=e}function Wc(t,e,r){Le[$e++]=it,Le[$e++]=at,Le[$e++]=Xt,Xt=t;var n=it;t=at;var s=32-Ge(n)-1;n&=~(1<<s),r+=1;var o=32-Ge(e)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,it=1<<32-Ge(e)+s|r<<s|n,at=o+t}else it=1<<o|r<<s|n,at=t}function Na(t){t.return!==null&&(Ht(t,1),Wc(t,1,0))}function Ca(t){for(;t===Us;)Us=wr[--xr],wr[xr]=null,Ms=wr[--xr],wr[xr]=null;for(;t===Xt;)Xt=Le[--$e],Le[$e]=null,at=Le[--$e],Le[$e]=null,it=Le[--$e],Le[$e]=null}var Pe=null,Ce=null,G=!1,Ve=null;function Vc(t,e){var r=Re(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function zl(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pe=t,Ce=Ct(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pe=t,Ce=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Xt!==null?{id:it,overflow:at}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Re(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Pe=t,Ce=null,!0):!1;default:return!1}}function Li(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $i(t){if(G){var e=Ce;if(e){var r=e;if(!zl(t,e)){if(Li(t))throw Error(E(418));e=Ct(r.nextSibling);var n=Pe;e&&zl(t,e)?Vc(n,r):(t.flags=t.flags&-4097|2,G=!1,Pe=t)}}else{if(Li(t))throw Error(E(418));t.flags=t.flags&-4097|2,G=!1,Pe=t}}}function Bl(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pe=t}function ss(t){if(t!==Pe)return!1;if(!G)return Bl(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pi(t.type,t.memoizedProps)),e&&(e=Ce)){if(Li(t))throw Gc(),Error(E(418));for(;e;)Vc(t,e),e=Ct(e.nextSibling)}if(Bl(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ce=Ct(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ce=null}}else Ce=Pe?Ct(t.stateNode.nextSibling):null;return!0}function Gc(){for(var t=Ce;t;)t=Ct(t.nextSibling)}function Lr(){Ce=Pe=null,G=!1}function Pa(t){Ve===null?Ve=[t]:Ve.push(t)}var xp=pt.ReactCurrentBatchConfig;function Qr(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function os(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hl(t){var e=t._init;return e(t._payload)}function qc(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Tt(g,p),g.index=0,g.sibling=null,g}function o(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function i(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,m,w){return p===null||p.tag!==6?(p=Jo(m,g.mode,w),p.return=g,p):(p=s(p,m),p.return=g,p)}function l(g,p,m,w){var _=m.type;return _===fr?d(g,p,m.props.children,w,m.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===vt&&Hl(_)===p.type)?(w=s(p,m.props),w.ref=Qr(g,p,m),w.return=g,w):(w=Es(m.type,m.key,m.props,null,g.mode,w),w.ref=Qr(g,p,m),w.return=g,w)}function u(g,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Zo(m,g.mode,w),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,w,_){return p===null||p.tag!==7?(p=Zt(m,g.mode,w,_),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Jo(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Kn:return m=Es(p.type,p.key,p.props,null,g.mode,m),m.ref=Qr(g,null,p),m.return=g,m;case hr:return p=Zo(p,g.mode,m),p.return=g,p;case vt:var w=p._init;return h(g,w(p._payload),m)}if(en(p)||Wr(p))return p=Zt(p,g.mode,m,null),p.return=g,p;os(g,p)}return null}function f(g,p,m,w){var _=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:a(g,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Kn:return m.key===_?l(g,p,m,w):null;case hr:return m.key===_?u(g,p,m,w):null;case vt:return _=m._init,f(g,p,_(m._payload),w)}if(en(m)||Wr(m))return _!==null?null:d(g,p,m,w,null);os(g,m)}return null}function v(g,p,m,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,a(p,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kn:return g=g.get(w.key===null?m:w.key)||null,l(p,g,w,_);case hr:return g=g.get(w.key===null?m:w.key)||null,u(p,g,w,_);case vt:var k=w._init;return v(g,p,m,k(w._payload),_)}if(en(w)||Wr(w))return g=g.get(m)||null,d(p,g,w,_,null);os(p,w)}return null}function y(g,p,m,w){for(var _=null,k=null,j=p,b=p=0,I=null;j!==null&&b<m.length;b++){j.index>b?(I=j,j=null):I=j.sibling;var N=f(g,j,m[b],w);if(N===null){j===null&&(j=I);break}t&&j&&N.alternate===null&&e(g,j),p=o(N,p,b),k===null?_=N:k.sibling=N,k=N,j=I}if(b===m.length)return r(g,j),G&&Ht(g,b),_;if(j===null){for(;b<m.length;b++)j=h(g,m[b],w),j!==null&&(p=o(j,p,b),k===null?_=j:k.sibling=j,k=j);return G&&Ht(g,b),_}for(j=n(g,j);b<m.length;b++)I=v(j,g,b,m[b],w),I!==null&&(t&&I.alternate!==null&&j.delete(I.key===null?b:I.key),p=o(I,p,b),k===null?_=I:k.sibling=I,k=I);return t&&j.forEach(function(F){return e(g,F)}),G&&Ht(g,b),_}function x(g,p,m,w){var _=Wr(m);if(typeof _!="function")throw Error(E(150));if(m=_.call(m),m==null)throw Error(E(151));for(var k=_=null,j=p,b=p=0,I=null,N=m.next();j!==null&&!N.done;b++,N=m.next()){j.index>b?(I=j,j=null):I=j.sibling;var F=f(g,j,N.value,w);if(F===null){j===null&&(j=I);break}t&&j&&F.alternate===null&&e(g,j),p=o(F,p,b),k===null?_=F:k.sibling=F,k=F,j=I}if(N.done)return r(g,j),G&&Ht(g,b),_;if(j===null){for(;!N.done;b++,N=m.next())N=h(g,N.value,w),N!==null&&(p=o(N,p,b),k===null?_=N:k.sibling=N,k=N);return G&&Ht(g,b),_}for(j=n(g,j);!N.done;b++,N=m.next())N=v(j,g,b,N.value,w),N!==null&&(t&&N.alternate!==null&&j.delete(N.key===null?b:N.key),p=o(N,p,b),k===null?_=N:k.sibling=N,k=N);return t&&j.forEach(function(M){return e(g,M)}),G&&Ht(g,b),_}function S(g,p,m,w){if(typeof m=="object"&&m!==null&&m.type===fr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Kn:e:{for(var _=m.key,k=p;k!==null;){if(k.key===_){if(_=m.type,_===fr){if(k.tag===7){r(g,k.sibling),p=s(k,m.props.children),p.return=g,g=p;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===vt&&Hl(_)===k.type){r(g,k.sibling),p=s(k,m.props),p.ref=Qr(g,k,m),p.return=g,g=p;break e}r(g,k);break}else e(g,k);k=k.sibling}m.type===fr?(p=Zt(m.props.children,g.mode,w,m.key),p.return=g,g=p):(w=Es(m.type,m.key,m.props,null,g.mode,w),w.ref=Qr(g,p,m),w.return=g,g=w)}return i(g);case hr:e:{for(k=m.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=Zo(m,g.mode,w),p.return=g,g=p}return i(g);case vt:return k=m._init,S(g,p,k(m._payload),w)}if(en(m))return y(g,p,m,w);if(Wr(m))return x(g,p,m,w);os(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=Jo(m,g.mode,w),p.return=g,g=p),i(g)):r(g,p)}return S}var $r=qc(!0),Kc=qc(!1),Fs=Dt(null),zs=null,_r=null,Ia=null;function Aa(){Ia=_r=zs=null}function Ta(t){var e=Fs.current;V(Fs),t._currentValue=e}function Ri(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Cr(t,e){zs=t,Ia=_r=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ke=!0),t.firstContext=null)}function Ue(t){var e=t._currentValue;if(Ia!==t)if(t={context:t,memoizedValue:e,next:null},_r===null){if(zs===null)throw Error(E(308));_r=t,zs.dependencies={lanes:0,firstContext:t}}else _r=_r.next=t;return e}var Kt=null;function La(t){Kt===null?Kt=[t]:Kt.push(t)}function Qc(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,La(e)):(r.next=s.next,s.next=r),e.interleaved=r,ht(t,n)}function ht(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var yt=!1;function $a(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,U&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ht(t,r)}return s=n.interleaved,s===null?(e.next=e,La(n)):(e.next=s.next,s.next=e),n.interleaved=e,ht(t,r)}function xs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,wa(t,r)}}function Wl(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Bs(t,e,r,n){var s=t.updateQueue;yt=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var f=a.lane,v=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(f=e,v=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=Q({},h,f);break e;case 2:yt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=h):d=d.next=v,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);tr|=i,t.lanes=i,t.memoizedState=h}}function Vl(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var Mn={},et=Dt(Mn),Cn=Dt(Mn),Pn=Dt(Mn);function Qt(t){if(t===Mn)throw Error(E(174));return t}function Ra(t,e){switch(H(Pn,e),H(Cn,t),H(et,Mn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mi(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mi(e,t)}V(et),H(et,e)}function Rr(){V(et),V(Cn),V(Pn)}function Zc(t){Qt(Pn.current);var e=Qt(et.current),r=mi(e,t.type);e!==r&&(H(Cn,t),H(et,r))}function Da(t){Cn.current===t&&(V(et),V(Cn))}var q=Dt(0);function Hs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wo=[];function Oa(){for(var t=0;t<Wo.length;t++)Wo[t]._workInProgressVersionPrimary=null;Wo.length=0}var _s=pt.ReactCurrentDispatcher,Vo=pt.ReactCurrentBatchConfig,er=0,K=null,ee=null,se=null,Ws=!1,cn=!1,In=0,_p=0;function ce(){throw Error(E(321))}function Ua(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ke(t[r],e[r]))return!1;return!0}function Ma(t,e,r,n,s,o){if(er=o,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_s.current=t===null||t.memoizedState===null?jp:Ep,t=r(n,s),cn){o=0;do{if(cn=!1,In=0,25<=o)throw Error(E(301));o+=1,se=ee=null,e.updateQueue=null,_s.current=Np,t=r(n,s)}while(cn)}if(_s.current=Vs,e=ee!==null&&ee.next!==null,er=0,se=ee=K=null,Ws=!1,e)throw Error(E(300));return t}function Fa(){var t=In!==0;return In=0,t}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?K.memoizedState=se=t:se=se.next=t,se}function Me(){if(ee===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=ee.next;var e=se===null?K.memoizedState:se.next;if(e!==null)se=e,ee=t;else{if(t===null)throw Error(E(310));ee=t,t={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},se===null?K.memoizedState=se=t:se=se.next=t}return se}function An(t,e){return typeof e=="function"?e(t):e}function Go(t){var e=Me(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=ee,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((er&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=n):l=l.next=h,K.lanes|=d,tr|=d}u=u.next}while(u!==null&&u!==o);l===null?i=n:l.next=a,Ke(n,e.memoizedState)||(ke=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,K.lanes|=o,tr|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function qo(t){var e=Me(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Ke(o,e.memoizedState)||(ke=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Yc(){}function Xc(t,e){var r=K,n=Me(),s=e(),o=!Ke(n.memoizedState,s);if(o&&(n.memoizedState=s,ke=!0),n=n.queue,za(rd.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||se!==null&&se.memoizedState.tag&1){if(r.flags|=2048,Tn(9,td.bind(null,r,n,s,e),void 0,null),oe===null)throw Error(E(349));er&30||ed(r,e,s)}return s}function ed(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function td(t,e,r,n){e.value=r,e.getSnapshot=n,nd(e)&&sd(t)}function rd(t,e,r){return r(function(){nd(e)&&sd(t)})}function nd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ke(t,r)}catch{return!0}}function sd(t){var e=ht(t,1);e!==null&&qe(e,t,1,-1)}function Gl(t){var e=Ze();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:t},e.queue=t,t=t.dispatch=bp.bind(null,K,t),[e.memoizedState,t]}function Tn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function od(){return Me().memoizedState}function ks(t,e,r,n){var s=Ze();K.flags|=t,s.memoizedState=Tn(1|e,r,void 0,n===void 0?null:n)}function io(t,e,r,n){var s=Me();n=n===void 0?null:n;var o=void 0;if(ee!==null){var i=ee.memoizedState;if(o=i.destroy,n!==null&&Ua(n,i.deps)){s.memoizedState=Tn(e,r,o,n);return}}K.flags|=t,s.memoizedState=Tn(1|e,r,o,n)}function ql(t,e){return ks(8390656,8,t,e)}function za(t,e){return io(2048,8,t,e)}function id(t,e){return io(4,2,t,e)}function ad(t,e){return io(4,4,t,e)}function ld(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ud(t,e,r){return r=r!=null?r.concat([t]):null,io(4,4,ld.bind(null,e,t),r)}function Ba(){}function cd(t,e){var r=Me();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ua(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function dd(t,e){var r=Me();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ua(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function hd(t,e,r){return er&21?(Ke(r,e)||(r=vc(),K.lanes|=r,tr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ke=!0),t.memoizedState=r)}function kp(t,e){var r=z;z=r!==0&&4>r?r:4,t(!0);var n=Vo.transition;Vo.transition={};try{t(!1),e()}finally{z=r,Vo.transition=n}}function fd(){return Me().memoizedState}function Sp(t,e,r){var n=At(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pd(t))md(e,r);else if(r=Qc(t,e,r,n),r!==null){var s=ge();qe(r,t,n,s),gd(r,e,n)}}function bp(t,e,r){var n=At(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pd(t))md(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,Ke(a,i)){var l=e.interleaved;l===null?(s.next=s,La(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Qc(t,e,s,n),r!==null&&(s=ge(),qe(r,t,n,s),gd(r,e,n))}}function pd(t){var e=t.alternate;return t===K||e!==null&&e===K}function md(t,e){cn=Ws=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function gd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,wa(t,r)}}var Vs={readContext:Ue,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},jp={readContext:Ue,useCallback:function(t,e){return Ze().memoizedState=[t,e===void 0?null:e],t},useContext:Ue,useEffect:ql,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ks(4194308,4,ld.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ks(4194308,4,t,e)},useInsertionEffect:function(t,e){return ks(4,2,t,e)},useMemo:function(t,e){var r=Ze();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ze();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Sp.bind(null,K,t),[n.memoizedState,t]},useRef:function(t){var e=Ze();return t={current:t},e.memoizedState=t},useState:Gl,useDebugValue:Ba,useDeferredValue:function(t){return Ze().memoizedState=t},useTransition:function(){var t=Gl(!1),e=t[0];return t=kp.bind(null,t[1]),Ze().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=K,s=Ze();if(G){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),oe===null)throw Error(E(349));er&30||ed(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,ql(rd.bind(null,n,o,t),[t]),n.flags|=2048,Tn(9,td.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Ze(),e=oe.identifierPrefix;if(G){var r=at,n=it;r=(n&~(1<<32-Ge(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=In++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=_p++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ep={readContext:Ue,useCallback:cd,useContext:Ue,useEffect:za,useImperativeHandle:ud,useInsertionEffect:id,useLayoutEffect:ad,useMemo:dd,useReducer:Go,useRef:od,useState:function(){return Go(An)},useDebugValue:Ba,useDeferredValue:function(t){var e=Me();return hd(e,ee.memoizedState,t)},useTransition:function(){var t=Go(An)[0],e=Me().memoizedState;return[t,e]},useMutableSource:Yc,useSyncExternalStore:Xc,useId:fd,unstable_isNewReconciler:!1},Np={readContext:Ue,useCallback:cd,useContext:Ue,useEffect:za,useImperativeHandle:ud,useInsertionEffect:id,useLayoutEffect:ad,useMemo:dd,useReducer:qo,useRef:od,useState:function(){return qo(An)},useDebugValue:Ba,useDeferredValue:function(t){var e=Me();return ee===null?e.memoizedState=t:hd(e,ee.memoizedState,t)},useTransition:function(){var t=qo(An)[0],e=Me().memoizedState;return[t,e]},useMutableSource:Yc,useSyncExternalStore:Xc,useId:fd,unstable_isNewReconciler:!1};function Be(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Di(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Q({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ao={isMounted:function(t){return(t=t._reactInternals)?sr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ge(),s=At(t),o=lt(n,s);o.payload=e,r!=null&&(o.callback=r),e=Pt(t,o,s),e!==null&&(qe(e,t,s,n),xs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ge(),s=At(t),o=lt(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Pt(t,o,s),e!==null&&(qe(e,t,s,n),xs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ge(),n=At(t),s=lt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Pt(t,s,n),e!==null&&(qe(e,t,n,r),xs(e,t,n))}};function Kl(t,e,r,n,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!bn(r,n)||!bn(s,o):!0}function vd(t,e,r){var n=!1,s=$t,o=e.contextType;return typeof o=="object"&&o!==null?o=Ue(o):(s=je(e)?Yt:fe.current,n=e.contextTypes,o=(n=n!=null)?Tr(t,s):$t),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ao,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ql(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ao.enqueueReplaceState(e,e.state,null)}function Oi(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},$a(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Ue(o):(o=je(e)?Yt:fe.current,s.context=Tr(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Di(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ao.enqueueReplaceState(s,s.state,null),Bs(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dr(t,e){try{var r="",n=e;do r+=ef(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Ko(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ui(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Cp=typeof WeakMap=="function"?WeakMap:Map;function yd(t,e,r){r=lt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){qs||(qs=!0,Ki=n),Ui(t,e)},r}function wd(t,e,r){r=lt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ui(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Ui(t,e),typeof n!="function"&&(It===null?It=new Set([this]):It.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function Jl(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Cp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Bp.bind(null,t,e,r),e.then(t,t))}function Zl(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yl(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=lt(-1,1),e.tag=2,Pt(r,e,1))),r.lanes|=1),t)}var Pp=pt.ReactCurrentOwner,ke=!1;function me(t,e,r,n){e.child=t===null?Kc(e,null,r,n):$r(e,t.child,r,n)}function Xl(t,e,r,n,s){r=r.render;var o=e.ref;return Cr(e,s),n=Ma(t,e,r,n,o,s),r=Fa(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ft(t,e,s)):(G&&r&&Na(e),e.flags|=1,me(t,e,n,s),e.child)}function eu(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!Ja(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,xd(t,e,o,n,s)):(t=Es(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:bn,r(i,n)&&t.ref===e.ref)return ft(t,e,s)}return e.flags|=1,t=Tt(o,n),t.ref=e.ref,t.return=e,e.child=t}function xd(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(bn(o,n)&&t.ref===e.ref)if(ke=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(ke=!0);else return e.lanes=t.lanes,ft(t,e,s)}return Mi(t,e,r,n,s)}function _d(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Sr,Ne),Ne|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(Sr,Ne),Ne|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,H(Sr,Ne),Ne|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,H(Sr,Ne),Ne|=n;return me(t,e,s,r),e.child}function kd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Mi(t,e,r,n,s){var o=je(r)?Yt:fe.current;return o=Tr(e,o),Cr(e,s),r=Ma(t,e,r,n,o,s),n=Fa(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ft(t,e,s)):(G&&n&&Na(e),e.flags|=1,me(t,e,r,s),e.child)}function tu(t,e,r,n,s){if(je(r)){var o=!0;Os(e)}else o=!1;if(Cr(e,s),e.stateNode===null)Ss(t,e),vd(e,r,n),Oi(e,r,n,s),n=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ue(u):(u=je(r)?Yt:fe.current,u=Tr(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Ql(e,i,n,u),yt=!1;var f=e.memoizedState;i.state=f,Bs(e,n,i,s),l=e.memoizedState,a!==n||f!==l||be.current||yt?(typeof d=="function"&&(Di(e,r,d,n),l=e.memoizedState),(a=yt||Kl(e,r,a,n,f,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),i.props=n,i.state=l,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,Jc(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Be(e.type,a),i.props=u,h=e.pendingProps,f=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ue(l):(l=je(r)?Yt:fe.current,l=Tr(e,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ql(e,i,n,l),yt=!1,f=e.memoizedState,i.state=f,Bs(e,n,i,s);var y=e.memoizedState;a!==h||f!==y||be.current||yt?(typeof v=="function"&&(Di(e,r,v,n),y=e.memoizedState),(u=yt||Kl(e,r,u,n,f,y,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),i.props=n,i.state=y,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Fi(t,e,r,n,o,s)}function Fi(t,e,r,n,s,o){kd(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&Fl(e,r,!1),ft(t,e,o);n=e.stateNode,Pp.current=e;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=$r(e,t.child,null,o),e.child=$r(e,null,a,o)):me(t,e,a,o),e.memoizedState=n.state,s&&Fl(e,r,!0),e.child}function Sd(t){var e=t.stateNode;e.pendingContext?Ml(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ml(t,e.context,!1),Ra(t,e.containerInfo)}function ru(t,e,r,n,s){return Lr(),Pa(s),e.flags|=256,me(t,e,r,n),e.child}var zi={dehydrated:null,treeContext:null,retryLane:0};function Bi(t){return{baseLanes:t,cachePool:null,transitions:null}}function bd(t,e,r){var n=e.pendingProps,s=q.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),H(q,s&1),t===null)return $i(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=co(i,n,0,null),t=Zt(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Bi(r),e.memoizedState=zi,t):Ha(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ip(t,e,i,n,a,s,r);if(o){o=n.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Tt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Tt(a,o):(o=Zt(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?Bi(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=zi,n}return o=t.child,t=o.sibling,n=Tt(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ha(t,e){return e=co({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function is(t,e,r,n){return n!==null&&Pa(n),$r(e,t.child,null,r),t=Ha(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ip(t,e,r,n,s,o,i){if(r)return e.flags&256?(e.flags&=-257,n=Ko(Error(E(422))),is(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=co({mode:"visible",children:n.children},s,0,null),o=Zt(o,s,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&$r(e,t.child,null,i),e.child.memoizedState=Bi(i),e.memoizedState=zi,o);if(!(e.mode&1))return is(t,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(E(419)),n=Ko(o,n,void 0),is(t,e,i,n)}if(a=(i&t.childLanes)!==0,ke||a){if(n=oe,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ht(t,s),qe(n,t,s,-1))}return Qa(),n=Ko(Error(E(421))),is(t,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Hp.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Ce=Ct(s.nextSibling),Pe=e,G=!0,Ve=null,t!==null&&(Le[$e++]=it,Le[$e++]=at,Le[$e++]=Xt,it=t.id,at=t.overflow,Xt=e),e=Ha(e,n.children),e.flags|=4096,e)}function nu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ri(t.return,e,r)}function Qo(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function jd(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(me(t,e,n.children,r),n=q.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nu(t,r,e);else if(t.tag===19)nu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(H(q,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Hs(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Qo(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Hs(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Qo(e,!0,r,null,o);break;case"together":Qo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ss(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ft(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),tr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=Tt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Tt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Ap(t,e,r){switch(e.tag){case 3:Sd(e),Lr();break;case 5:Zc(e);break;case 1:je(e.type)&&Os(e);break;case 4:Ra(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;H(Fs,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(H(q,q.current&1),e.flags|=128,null):r&e.child.childLanes?bd(t,e,r):(H(q,q.current&1),t=ft(t,e,r),t!==null?t.sibling:null);H(q,q.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return jd(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(q,q.current),n)break;return null;case 22:case 23:return e.lanes=0,_d(t,e,r)}return ft(t,e,r)}var Ed,Hi,Nd,Cd;Ed=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hi=function(){};Nd=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Qt(et.current);var o=null;switch(r){case"input":s=di(t,s),n=di(t,n),o=[];break;case"select":s=Q({},s,{value:void 0}),n=Q({},n,{value:void 0}),o=[];break;case"textarea":s=pi(t,s),n=pi(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rs)}gi(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vn.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&W("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Cd=function(t,e,r,n){r!==n&&(e.flags|=4)};function Jr(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Tp(t,e,r){var n=e.pendingProps;switch(Ca(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return je(e.type)&&Ds(),de(e),null;case 3:return n=e.stateNode,Rr(),V(be),V(fe),Oa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ss(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ve!==null&&(Zi(Ve),Ve=null))),Hi(t,e),de(e),null;case 5:Da(e);var s=Qt(Pn.current);if(r=e.type,t!==null&&e.stateNode!=null)Nd(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return de(e),null}if(t=Qt(et.current),ss(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Ye]=e,n[Nn]=o,t=(e.mode&1)!==0,r){case"dialog":W("cancel",n),W("close",n);break;case"iframe":case"object":case"embed":W("load",n);break;case"video":case"audio":for(s=0;s<rn.length;s++)W(rn[s],n);break;case"source":W("error",n);break;case"img":case"image":case"link":W("error",n),W("load",n);break;case"details":W("toggle",n);break;case"input":hl(n,o),W("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},W("invalid",n);break;case"textarea":pl(n,o),W("invalid",n)}gi(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&ns(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ns(n.textContent,a,t),s=["children",""+a]):vn.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&W("scroll",n)}switch(r){case"input":Qn(n),fl(n,o,!0);break;case"textarea":Qn(n),ml(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Rs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Ye]=e,t[Nn]=n,Ed(t,e,!1,!1),e.stateNode=t;e:{switch(i=vi(r,n),r){case"dialog":W("cancel",t),W("close",t),s=n;break;case"iframe":case"object":case"embed":W("load",t),s=n;break;case"video":case"audio":for(s=0;s<rn.length;s++)W(rn[s],t);s=n;break;case"source":W("error",t),s=n;break;case"img":case"image":case"link":W("error",t),W("load",t),s=n;break;case"details":W("toggle",t),s=n;break;case"input":hl(t,n),s=di(t,n),W("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Q({},n,{value:void 0}),W("invalid",t);break;case"textarea":pl(t,n),s=pi(t,n),W("invalid",t);break;default:s=n}gi(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?oc(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nc(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&yn(t,l):typeof l=="number"&&yn(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vn.hasOwnProperty(o)?l!=null&&o==="onScroll"&&W("scroll",t):l!=null&&fa(t,o,l,i))}switch(r){case"input":Qn(t),fl(t,n,!1);break;case"textarea":Qn(t),ml(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Lt(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?br(t,!!n.multiple,o,!1):n.defaultValue!=null&&br(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Rs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return de(e),null;case 6:if(t&&e.stateNode!=null)Cd(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=Qt(Pn.current),Qt(et.current),ss(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ye]=e,(o=n.nodeValue!==r)&&(t=Pe,t!==null))switch(t.tag){case 3:ns(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ns(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ye]=e,e.stateNode=n}return de(e),null;case 13:if(V(q),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&Ce!==null&&e.mode&1&&!(e.flags&128))Gc(),Lr(),e.flags|=98560,o=!1;else if(o=ss(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(E(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(E(317));o[Ye]=e}else Lr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;de(e),o=!1}else Ve!==null&&(Zi(Ve),Ve=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||q.current&1?te===0&&(te=3):Qa())),e.updateQueue!==null&&(e.flags|=4),de(e),null);case 4:return Rr(),Hi(t,e),t===null&&jn(e.stateNode.containerInfo),de(e),null;case 10:return Ta(e.type._context),de(e),null;case 17:return je(e.type)&&Ds(),de(e),null;case 19:if(V(q),o=e.memoizedState,o===null)return de(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)Jr(o,!1);else{if(te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Hs(t),i!==null){for(e.flags|=128,Jr(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return H(q,q.current&1|2),e.child}t=t.sibling}o.tail!==null&&Y()>Or&&(e.flags|=128,n=!0,Jr(o,!1),e.lanes=4194304)}else{if(!n)if(t=Hs(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Jr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!G)return de(e),null}else 2*Y()-o.renderingStartTime>Or&&r!==1073741824&&(e.flags|=128,n=!0,Jr(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Y(),e.sibling=null,r=q.current,H(q,n?r&1|2:r&1),e):(de(e),null);case 22:case 23:return Ka(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ne&1073741824&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Lp(t,e){switch(Ca(e),e.tag){case 1:return je(e.type)&&Ds(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rr(),V(be),V(fe),Oa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Da(e),null;case 13:if(V(q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Lr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(q),null;case 4:return Rr(),null;case 10:return Ta(e.type._context),null;case 22:case 23:return Ka(),null;case 24:return null;default:return null}}var as=!1,he=!1,$p=typeof WeakSet=="function"?WeakSet:Set,C=null;function kr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){J(t,e,n)}else r.current=null}function Wi(t,e,r){try{r()}catch(n){J(t,e,n)}}var su=!1;function Rp(t,e){if(Ni=Ts,t=Lc(),Ea(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=i+s),h!==o||n!==0&&h.nodeType!==3||(l=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===r&&++u===s&&(a=i),f===o&&++d===n&&(l=i),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ci={focusedElem:t,selectionRange:r},Ts=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,S=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Be(e.type,x),S);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){J(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return y=su,su=!1,y}function dn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Wi(e,r,o)}s=s.next}while(s!==n)}}function lo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Vi(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Pd(t){var e=t.alternate;e!==null&&(t.alternate=null,Pd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ye],delete e[Nn],delete e[Ai],delete e[vp],delete e[yp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Id(t){return t.tag===5||t.tag===3||t.tag===4}function ou(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Id(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gi(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rs));else if(n!==4&&(t=t.child,t!==null))for(Gi(t,e,r),t=t.sibling;t!==null;)Gi(t,e,r),t=t.sibling}function qi(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(qi(t,e,r),t=t.sibling;t!==null;)qi(t,e,r),t=t.sibling}var ie=null,He=!1;function mt(t,e,r){for(r=r.child;r!==null;)Ad(t,e,r),r=r.sibling}function Ad(t,e,r){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(eo,r)}catch{}switch(r.tag){case 5:he||kr(r,e);case 6:var n=ie,s=He;ie=null,mt(t,e,r),ie=n,He=s,ie!==null&&(He?(t=ie,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ie.removeChild(r.stateNode));break;case 18:ie!==null&&(He?(t=ie,r=r.stateNode,t.nodeType===8?Bo(t.parentNode,r):t.nodeType===1&&Bo(t,r),kn(t)):Bo(ie,r.stateNode));break;case 4:n=ie,s=He,ie=r.stateNode.containerInfo,He=!0,mt(t,e,r),ie=n,He=s;break;case 0:case 11:case 14:case 15:if(!he&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Wi(r,e,i),s=s.next}while(s!==n)}mt(t,e,r);break;case 1:if(!he&&(kr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){J(r,e,a)}mt(t,e,r);break;case 21:mt(t,e,r);break;case 22:r.mode&1?(he=(n=he)||r.memoizedState!==null,mt(t,e,r),he=n):mt(t,e,r);break;default:mt(t,e,r)}}function iu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $p),e.forEach(function(n){var s=Wp.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Fe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:ie=a.stateNode,He=!1;break e;case 3:ie=a.stateNode.containerInfo,He=!0;break e;case 4:ie=a.stateNode.containerInfo,He=!0;break e}a=a.return}if(ie===null)throw Error(E(160));Ad(o,i,s),ie=null,He=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){J(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Td(e,t),e=e.sibling}function Td(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fe(e,t),Je(t),n&4){try{dn(3,t,t.return),lo(3,t)}catch(x){J(t,t.return,x)}try{dn(5,t,t.return)}catch(x){J(t,t.return,x)}}break;case 1:Fe(e,t),Je(t),n&512&&r!==null&&kr(r,r.return);break;case 5:if(Fe(e,t),Je(t),n&512&&r!==null&&kr(r,r.return),t.flags&32){var s=t.stateNode;try{yn(s,"")}catch(x){J(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&ec(s,o),vi(a,i);var u=vi(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?oc(s,h):d==="dangerouslySetInnerHTML"?nc(s,h):d==="children"?yn(s,h):fa(s,d,h,u)}switch(a){case"input":hi(s,o);break;case"textarea":tc(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?br(s,!!o.multiple,v,!1):f!==!!o.multiple&&(o.defaultValue!=null?br(s,!!o.multiple,o.defaultValue,!0):br(s,!!o.multiple,o.multiple?[]:"",!1))}s[Nn]=o}catch(x){J(t,t.return,x)}}break;case 6:if(Fe(e,t),Je(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(x){J(t,t.return,x)}}break;case 3:if(Fe(e,t),Je(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{kn(e.containerInfo)}catch(x){J(t,t.return,x)}break;case 4:Fe(e,t),Je(t);break;case 13:Fe(e,t),Je(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ga=Y())),n&4&&iu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(he=(u=he)||d,Fe(e,t),he=u):Fe(e,t),Je(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(C=t,d=t.child;d!==null;){for(h=C=d;C!==null;){switch(f=C,v=f.child,f.tag){case 0:case 11:case 14:case 15:dn(4,f,f.return);break;case 1:kr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){J(n,r,x)}}break;case 5:kr(f,f.return);break;case 22:if(f.memoizedState!==null){lu(h);continue}}v!==null?(v.return=f,C=v):lu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sc("display",i))}catch(x){J(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){J(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fe(e,t),Je(t),n&4&&iu(t);break;case 21:break;default:Fe(e,t),Je(t)}}function Je(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Id(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(yn(s,""),n.flags&=-33);var o=ou(t);qi(t,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=ou(t);Gi(t,a,i);break;default:throw Error(E(161))}}catch(l){J(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dp(t,e,r){C=t,Ld(t)}function Ld(t,e,r){for(var n=(t.mode&1)!==0;C!==null;){var s=C,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||as;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||he;a=as;var u=he;if(as=i,(he=l)&&!u)for(C=s;C!==null;)i=C,l=i.child,i.tag===22&&i.memoizedState!==null?uu(s):l!==null?(l.return=i,C=l):uu(s);for(;o!==null;)C=o,Ld(o),o=o.sibling;C=s,as=a,he=u}au(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,C=o):au(t)}}function au(t){for(;C!==null;){var e=C;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:he||lo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!he)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Be(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Vl(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Vl(e,i,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&kn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}he||e.flags&512&&Vi(e)}catch(f){J(e,e.return,f)}}if(e===t){C=null;break}if(r=e.sibling,r!==null){r.return=e.return,C=r;break}C=e.return}}function lu(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var r=e.sibling;if(r!==null){r.return=e.return,C=r;break}C=e.return}}function uu(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{lo(4,e)}catch(l){J(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){J(e,s,l)}}var o=e.return;try{Vi(e)}catch(l){J(e,o,l)}break;case 5:var i=e.return;try{Vi(e)}catch(l){J(e,i,l)}}}catch(l){J(e,e.return,l)}if(e===t){C=null;break}var a=e.sibling;if(a!==null){a.return=e.return,C=a;break}C=e.return}}var Op=Math.ceil,Gs=pt.ReactCurrentDispatcher,Wa=pt.ReactCurrentOwner,De=pt.ReactCurrentBatchConfig,U=0,oe=null,X=null,ae=0,Ne=0,Sr=Dt(0),te=0,Ln=null,tr=0,uo=0,Va=0,hn=null,xe=null,Ga=0,Or=1/0,rt=null,qs=!1,Ki=null,It=null,ls=!1,bt=null,Ks=0,fn=0,Qi=null,bs=-1,js=0;function ge(){return U&6?Y():bs!==-1?bs:bs=Y()}function At(t){return t.mode&1?U&2&&ae!==0?ae&-ae:xp.transition!==null?(js===0&&(js=vc()),js):(t=z,t!==0||(t=window.event,t=t===void 0?16:bc(t.type)),t):1}function qe(t,e,r,n){if(50<fn)throw fn=0,Qi=null,Error(E(185));Dn(t,r,n),(!(U&2)||t!==oe)&&(t===oe&&(!(U&2)&&(uo|=r),te===4&&_t(t,ae)),Ee(t,n),r===1&&U===0&&!(e.mode&1)&&(Or=Y()+500,oo&&Ot()))}function Ee(t,e){var r=t.callbackNode;xf(t,e);var n=As(t,t===oe?ae:0);if(n===0)r!==null&&yl(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&yl(r),e===1)t.tag===0?wp(cu.bind(null,t)):Hc(cu.bind(null,t)),mp(function(){!(U&6)&&Ot()}),r=null;else{switch(yc(n)){case 1:r=ya;break;case 4:r=mc;break;case 16:r=Is;break;case 536870912:r=gc;break;default:r=Is}r=zd(r,$d.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function $d(t,e){if(bs=-1,js=0,U&6)throw Error(E(327));var r=t.callbackNode;if(Pr()&&t.callbackNode!==r)return null;var n=As(t,t===oe?ae:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Qs(t,n);else{e=n;var s=U;U|=2;var o=Dd();(oe!==t||ae!==e)&&(rt=null,Or=Y()+500,Jt(t,e));do try{Fp();break}catch(a){Rd(t,a)}while(!0);Aa(),Gs.current=o,U=s,X!==null?e=0:(oe=null,ae=0,e=te)}if(e!==0){if(e===2&&(s=ki(t),s!==0&&(n=s,e=Ji(t,s))),e===1)throw r=Ln,Jt(t,0),_t(t,n),Ee(t,Y()),r;if(e===6)_t(t,n);else{if(s=t.current.alternate,!(n&30)&&!Up(s)&&(e=Qs(t,n),e===2&&(o=ki(t),o!==0&&(n=o,e=Ji(t,o))),e===1))throw r=Ln,Jt(t,0),_t(t,n),Ee(t,Y()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:Wt(t,xe,rt);break;case 3:if(_t(t,n),(n&130023424)===n&&(e=Ga+500-Y(),10<e)){if(As(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ge(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ii(Wt.bind(null,t,xe,rt),e);break}Wt(t,xe,rt);break;case 4:if(_t(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var i=31-Ge(n);o=1<<i,i=e[i],i>s&&(s=i),n&=~o}if(n=s,n=Y()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Op(n/1960))-n,10<n){t.timeoutHandle=Ii(Wt.bind(null,t,xe,rt),n);break}Wt(t,xe,rt);break;case 5:Wt(t,xe,rt);break;default:throw Error(E(329))}}}return Ee(t,Y()),t.callbackNode===r?$d.bind(null,t):null}function Ji(t,e){var r=hn;return t.current.memoizedState.isDehydrated&&(Jt(t,e).flags|=256),t=Qs(t,e),t!==2&&(e=xe,xe=r,e!==null&&Zi(e)),t}function Zi(t){xe===null?xe=t:xe.push.apply(xe,t)}function Up(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Ke(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _t(t,e){for(e&=~Va,e&=~uo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ge(e),n=1<<r;t[r]=-1,e&=~n}}function cu(t){if(U&6)throw Error(E(327));Pr();var e=As(t,0);if(!(e&1))return Ee(t,Y()),null;var r=Qs(t,e);if(t.tag!==0&&r===2){var n=ki(t);n!==0&&(e=n,r=Ji(t,n))}if(r===1)throw r=Ln,Jt(t,0),_t(t,e),Ee(t,Y()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wt(t,xe,rt),Ee(t,Y()),null}function qa(t,e){var r=U;U|=1;try{return t(e)}finally{U=r,U===0&&(Or=Y()+500,oo&&Ot())}}function rr(t){bt!==null&&bt.tag===0&&!(U&6)&&Pr();var e=U;U|=1;var r=De.transition,n=z;try{if(De.transition=null,z=1,t)return t()}finally{z=n,De.transition=r,U=e,!(U&6)&&Ot()}}function Ka(){Ne=Sr.current,V(Sr)}function Jt(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,pp(r)),X!==null)for(r=X.return;r!==null;){var n=r;switch(Ca(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ds();break;case 3:Rr(),V(be),V(fe),Oa();break;case 5:Da(n);break;case 4:Rr();break;case 13:V(q);break;case 19:V(q);break;case 10:Ta(n.type._context);break;case 22:case 23:Ka()}r=r.return}if(oe=t,X=t=Tt(t.current,null),ae=Ne=e,te=0,Ln=null,Va=uo=tr=0,xe=hn=null,Kt!==null){for(e=0;e<Kt.length;e++)if(r=Kt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Kt=null}return t}function Rd(t,e){do{var r=X;try{if(Aa(),_s.current=Vs,Ws){for(var n=K.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ws=!1}if(er=0,se=ee=K=null,cn=!1,In=0,Wa.current=null,r===null||r.return===null){te=1,Ln=e,X=null;break}e:{var o=t,i=r.return,a=r,l=e;if(e=ae,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Zl(i);if(v!==null){v.flags&=-257,Yl(v,i,a,o,e),v.mode&1&&Jl(o,u,e),e=v,l=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){Jl(o,u,e),Qa();break e}l=Error(E(426))}}else if(G&&a.mode&1){var S=Zl(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Yl(S,i,a,o,e),Pa(Dr(l,a));break e}}o=l=Dr(l,a),te!==4&&(te=2),hn===null?hn=[o]:hn.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=yd(o,l,e);Wl(o,g);break e;case 1:a=l;var p=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(It===null||!It.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=wd(o,a,e);Wl(o,w);break e}}o=o.return}while(o!==null)}Ud(r)}catch(_){e=_,X===r&&r!==null&&(X=r=r.return);continue}break}while(!0)}function Dd(){var t=Gs.current;return Gs.current=Vs,t===null?Vs:t}function Qa(){(te===0||te===3||te===2)&&(te=4),oe===null||!(tr&268435455)&&!(uo&268435455)||_t(oe,ae)}function Qs(t,e){var r=U;U|=2;var n=Dd();(oe!==t||ae!==e)&&(rt=null,Jt(t,e));do try{Mp();break}catch(s){Rd(t,s)}while(!0);if(Aa(),U=r,Gs.current=n,X!==null)throw Error(E(261));return oe=null,ae=0,te}function Mp(){for(;X!==null;)Od(X)}function Fp(){for(;X!==null&&!df();)Od(X)}function Od(t){var e=Fd(t.alternate,t,Ne);t.memoizedProps=t.pendingProps,e===null?Ud(t):X=e,Wa.current=null}function Ud(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Lp(r,e),r!==null){r.flags&=32767,X=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{te=6,X=null;return}}else if(r=Tp(r,e,Ne),r!==null){X=r;return}if(e=e.sibling,e!==null){X=e;return}X=e=t}while(e!==null);te===0&&(te=5)}function Wt(t,e,r){var n=z,s=De.transition;try{De.transition=null,z=1,zp(t,e,r,n)}finally{De.transition=s,z=n}return null}function zp(t,e,r,n){do Pr();while(bt!==null);if(U&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(_f(t,o),t===oe&&(X=oe=null,ae=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ls||(ls=!0,zd(Is,function(){return Pr(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=De.transition,De.transition=null;var i=z;z=1;var a=U;U|=4,Wa.current=null,Rp(t,r),Td(r,t),ap(Ci),Ts=!!Ni,Ci=Ni=null,t.current=r,Dp(r),hf(),U=a,z=i,De.transition=o}else t.current=r;if(ls&&(ls=!1,bt=t,Ks=s),o=t.pendingLanes,o===0&&(It=null),mf(r.stateNode),Ee(t,Y()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(qs)throw qs=!1,t=Ki,Ki=null,t;return Ks&1&&t.tag!==0&&Pr(),o=t.pendingLanes,o&1?t===Qi?fn++:(fn=0,Qi=t):fn=0,Ot(),null}function Pr(){if(bt!==null){var t=yc(Ks),e=De.transition,r=z;try{if(De.transition=null,z=16>t?16:t,bt===null)var n=!1;else{if(t=bt,bt=null,Ks=0,U&6)throw Error(E(331));var s=U;for(U|=4,C=t.current;C!==null;){var o=C,i=o.child;if(C.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(C=u;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:dn(8,d,o)}var h=d.child;if(h!==null)h.return=d,C=h;else for(;C!==null;){d=C;var f=d.sibling,v=d.return;if(Pd(d),d===u){C=null;break}if(f!==null){f.return=v,C=f;break}C=v}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}C=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,C=i;else e:for(;C!==null;){if(o=C,o.flags&2048)switch(o.tag){case 0:case 11:case 15:dn(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,C=g;break e}C=o.return}}var p=t.current;for(C=p;C!==null;){i=C;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,C=m;else e:for(i=p;C!==null;){if(a=C,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lo(9,a)}}catch(_){J(a,a.return,_)}if(a===i){C=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,C=w;break e}C=a.return}}if(U=s,Ot(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(eo,t)}catch{}n=!0}return n}finally{z=r,De.transition=e}}return!1}function du(t,e,r){e=Dr(r,e),e=yd(t,e,1),t=Pt(t,e,1),e=ge(),t!==null&&(Dn(t,1,e),Ee(t,e))}function J(t,e,r){if(t.tag===3)du(t,t,r);else for(;e!==null;){if(e.tag===3){du(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(It===null||!It.has(n))){t=Dr(r,t),t=wd(e,t,1),e=Pt(e,t,1),t=ge(),e!==null&&(Dn(e,1,t),Ee(e,t));break}}e=e.return}}function Bp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ge(),t.pingedLanes|=t.suspendedLanes&r,oe===t&&(ae&r)===r&&(te===4||te===3&&(ae&130023424)===ae&&500>Y()-Ga?Jt(t,0):Va|=r),Ee(t,e)}function Md(t,e){e===0&&(t.mode&1?(e=Yn,Yn<<=1,!(Yn&130023424)&&(Yn=4194304)):e=1);var r=ge();t=ht(t,e),t!==null&&(Dn(t,e,r),Ee(t,r))}function Hp(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Md(t,r)}function Wp(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),Md(t,r)}var Fd;Fd=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||be.current)ke=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ke=!1,Ap(t,e,r);ke=!!(t.flags&131072)}else ke=!1,G&&e.flags&1048576&&Wc(e,Ms,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ss(t,e),t=e.pendingProps;var s=Tr(e,fe.current);Cr(e,r),s=Ma(null,e,n,t,s,r);var o=Fa();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(n)?(o=!0,Os(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$a(e),s.updater=ao,e.stateNode=s,s._reactInternals=e,Oi(e,n,t,r),e=Fi(null,e,n,!0,o,r)):(e.tag=0,G&&o&&Na(e),me(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ss(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Gp(n),t=Be(n,t),s){case 0:e=Mi(null,e,n,t,r);break e;case 1:e=tu(null,e,n,t,r);break e;case 11:e=Xl(null,e,n,t,r);break e;case 14:e=eu(null,e,n,Be(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Be(n,s),Mi(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Be(n,s),tu(t,e,n,s,r);case 3:e:{if(Sd(e),t===null)throw Error(E(387));n=e.pendingProps,o=e.memoizedState,s=o.element,Jc(t,e),Bs(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Dr(Error(E(423)),e),e=ru(t,e,n,r,s);break e}else if(n!==s){s=Dr(Error(E(424)),e),e=ru(t,e,n,r,s);break e}else for(Ce=Ct(e.stateNode.containerInfo.firstChild),Pe=e,G=!0,Ve=null,r=Kc(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lr(),n===s){e=ft(t,e,r);break e}me(t,e,n,r)}e=e.child}return e;case 5:return Zc(e),t===null&&$i(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Pi(n,s)?i=null:o!==null&&Pi(n,o)&&(e.flags|=32),kd(t,e),me(t,e,i,r),e.child;case 6:return t===null&&$i(e),null;case 13:return bd(t,e,r);case 4:return Ra(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=$r(e,null,n,r):me(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Be(n,s),Xl(t,e,n,s,r);case 7:return me(t,e,e.pendingProps,r),e.child;case 8:return me(t,e,e.pendingProps.children,r),e.child;case 12:return me(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,H(Fs,n._currentValue),n._currentValue=i,o!==null)if(Ke(o.value,i)){if(o.children===s.children&&!be.current){e=ft(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=lt(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ri(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(E(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Ri(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}me(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Cr(e,r),s=Ue(s),n=n(s),e.flags|=1,me(t,e,n,r),e.child;case 14:return n=e.type,s=Be(n,e.pendingProps),s=Be(n.type,s),eu(t,e,n,s,r);case 15:return xd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Be(n,s),Ss(t,e),e.tag=1,je(n)?(t=!0,Os(e)):t=!1,Cr(e,r),vd(e,n,s),Oi(e,n,s,r),Fi(null,e,n,!0,t,r);case 19:return jd(t,e,r);case 22:return _d(t,e,r)}throw Error(E(156,e.tag))};function zd(t,e){return pc(t,e)}function Vp(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Re(t,e,r,n){return new Vp(t,e,r,n)}function Ja(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gp(t){if(typeof t=="function")return Ja(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ma)return 11;if(t===ga)return 14}return 2}function Tt(t,e){var r=t.alternate;return r===null?(r=Re(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Es(t,e,r,n,s,o){var i=2;if(n=t,typeof t=="function")Ja(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case fr:return Zt(r.children,s,o,e);case pa:i=8,s|=8;break;case ai:return t=Re(12,r,e,s|2),t.elementType=ai,t.lanes=o,t;case li:return t=Re(13,r,e,s),t.elementType=li,t.lanes=o,t;case ui:return t=Re(19,r,e,s),t.elementType=ui,t.lanes=o,t;case Zu:return co(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qu:i=10;break e;case Ju:i=9;break e;case ma:i=11;break e;case ga:i=14;break e;case vt:i=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Re(i,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function Zt(t,e,r,n){return t=Re(7,t,n,e),t.lanes=r,t}function co(t,e,r,n){return t=Re(22,t,n,e),t.elementType=Zu,t.lanes=r,t.stateNode={isHidden:!1},t}function Jo(t,e,r){return t=Re(6,t,null,e),t.lanes=r,t}function Zo(t,e,r){return e=Re(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qp(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Za(t,e,r,n,s,o,i,a,l){return t=new qp(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Re(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$a(o),t}function Kp(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Bd(t){if(!t)return $t;t=t._reactInternals;e:{if(sr(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(je(r))return Bc(t,r,e)}return e}function Hd(t,e,r,n,s,o,i,a,l){return t=Za(r,n,!0,t,s,o,i,a,l),t.context=Bd(null),r=t.current,n=ge(),s=At(r),o=lt(n,s),o.callback=e??null,Pt(r,o,s),t.current.lanes=s,Dn(t,s,n),Ee(t,n),t}function ho(t,e,r,n){var s=e.current,o=ge(),i=At(s);return r=Bd(r),e.context===null?e.context=r:e.pendingContext=r,e=lt(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Pt(s,e,i),t!==null&&(qe(t,s,i,o),xs(t,s,i)),i}function Js(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ya(t,e){hu(t,e),(t=t.alternate)&&hu(t,e)}function Qp(){return null}var Wd=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xa(t){this._internalRoot=t}fo.prototype.render=Xa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));ho(t,e,null,null)};fo.prototype.unmount=Xa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rr(function(){ho(null,t,null,null)}),e[dt]=null}};function fo(t){this._internalRoot=t}fo.prototype.unstable_scheduleHydration=function(t){if(t){var e=_c();t={blockedOn:null,target:t,priority:e};for(var r=0;r<xt.length&&e!==0&&e<xt[r].priority;r++);xt.splice(r,0,t),r===0&&Sc(t)}};function el(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function po(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fu(){}function Jp(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Js(i);o.call(u)}}var i=Hd(e,n,t,0,null,!1,!1,"",fu);return t._reactRootContainer=i,t[dt]=i.current,jn(t.nodeType===8?t.parentNode:t),rr(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Js(l);a.call(u)}}var l=Za(t,0,!1,null,null,!1,!1,"",fu);return t._reactRootContainer=l,t[dt]=l.current,jn(t.nodeType===8?t.parentNode:t),rr(function(){ho(e,l,r,n)}),l}function mo(t,e,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Js(i);a.call(l)}}ho(e,i,t,s)}else i=Jp(r,e,t,s,n);return Js(i)}wc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=tn(e.pendingLanes);r!==0&&(wa(e,r|1),Ee(e,Y()),!(U&6)&&(Or=Y()+500,Ot()))}break;case 13:rr(function(){var n=ht(t,1);if(n!==null){var s=ge();qe(n,t,1,s)}}),Ya(t,1)}};xa=function(t){if(t.tag===13){var e=ht(t,134217728);if(e!==null){var r=ge();qe(e,t,134217728,r)}Ya(t,134217728)}};xc=function(t){if(t.tag===13){var e=At(t),r=ht(t,e);if(r!==null){var n=ge();qe(r,t,e,n)}Ya(t,e)}};_c=function(){return z};kc=function(t,e){var r=z;try{return z=t,e()}finally{z=r}};wi=function(t,e,r){switch(e){case"input":if(hi(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=so(n);if(!s)throw Error(E(90));Xu(n),hi(n,s)}}}break;case"textarea":tc(t,r);break;case"select":e=r.value,e!=null&&br(t,!!r.multiple,e,!1)}};lc=qa;uc=rr;var Zp={usingClientEntryPoint:!1,Events:[Un,vr,so,ic,ac,qa]},Zr={findFiberByHostInstance:qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yp={bundleType:Zr.bundleType,version:Zr.version,rendererPackageName:Zr.rendererPackageName,rendererConfig:Zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hc(t),t===null?null:t.stateNode},findFiberByHostInstance:Zr.findFiberByHostInstance||Qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!us.isDisabled&&us.supportsFiber)try{eo=us.inject(Yp),Xe=us}catch{}}Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zp;Ae.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!el(e))throw Error(E(200));return Kp(t,e,null,r)};Ae.createRoot=function(t,e){if(!el(t))throw Error(E(299));var r=!1,n="",s=Wd;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Za(t,1,!1,null,null,r,!1,n,s),t[dt]=e.current,jn(t.nodeType===8?t.parentNode:t),new Xa(e)};Ae.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=hc(e),t=t===null?null:t.stateNode,t};Ae.flushSync=function(t){return rr(t)};Ae.hydrate=function(t,e,r){if(!po(e))throw Error(E(200));return mo(null,t,e,!0,r)};Ae.hydrateRoot=function(t,e,r){if(!el(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Wd;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=Hd(e,null,t,1,r??null,s,!1,o,i),t[dt]=e.current,jn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new fo(e)};Ae.render=function(t,e,r){if(!po(e))throw Error(E(200));return mo(null,t,e,!1,r)};Ae.unmountComponentAtNode=function(t){if(!po(t))throw Error(E(40));return t._reactRootContainer?(rr(function(){mo(null,null,t,!1,function(){t._reactRootContainer=null,t[dt]=null})}),!0):!1};Ae.unstable_batchedUpdates=qa;Ae.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!po(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return mo(t,e,r,!1,n)};Ae.version="18.3.1-next-f1338f8080-20240426";function Vd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vd)}catch(t){console.error(t)}}Vd(),Vu.exports=Ae;var Xp=Vu.exports,Gd,pu=Xp;Gd=pu.createRoot,pu.hydrateRoot;const em={admin:{canCreate:!0,canEdit:!0,canDelete:!0,canAdopt:!0,canViewAll:!0,canManageUsers:!0,canManagePhotos:!0,canApproveAdoptions:!0,canManageHealth:!0,canViewReports:!0},voluntario:{canCreate:!0,canEdit:!0,canDelete:!1,canAdopt:!1,canViewAll:!1,canManageUsers:!1,canManagePhotos:!0,canApproveAdoptions:!1,canManageHealth:!1,canViewReports:!1},adopcion:{canCreate:!1,canEdit:!0,canDelete:!1,canAdopt:!0,canViewAll:!1,canManageUsers:!1,canManagePhotos:!1,canApproveAdoptions:!0,canManageHealth:!1,canViewReports:!0},veterinario:{canCreate:!1,canEdit:!0,canDelete:!1,canAdopt:!1,canViewAll:!0,canManageUsers:!1,canManagePhotos:!1,canApproveAdoptions:!1,canManageHealth:!0,canViewReports:!0}},tm="modulepreload",rm=function(t){return"/untechoparagatoscallejeros_front/"+t},mu={},Fn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=rm(l),l in mu)return;mu[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":tm,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},nm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fn(async()=>{const{default:n}=await Promise.resolve().then(()=>Br);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class tl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class sm extends tl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class om extends tl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class im extends tl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yi||(Yi={}));var am=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function l(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class lm{constructor(e,{headers:r={},customFetch:n,region:s=Yi.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=nm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return am(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(a["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(a["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(y=>{throw new sm(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new om(d);if(!d.ok)throw new im(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var _e={},rl={},go={},zn={},vo={},yo={},um=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ur=um();const cm=Ur.fetch,qd=Ur.fetch.bind(Ur),Kd=Ur.Headers,dm=Ur.Request,hm=Ur.Response,Br=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kd,Request:dm,Response:hm,default:qd,fetch:cm},Symbol.toStringTag,{value:"Module"})),fm=Eh(Br);var wo={};Object.defineProperty(wo,"__esModule",{value:!0});let pm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};wo.default=pm;var Qd=Oe&&Oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yo,"__esModule",{value:!0});const mm=Qd(fm),gm=Qd(wo);let vm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=mm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let u=null,d=null,h=null,f=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){const g=await o.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const x=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),S=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await o.text();try{u=JSON.parse(x),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,v="OK")}catch{o.status===404&&x===""?(f=204,v="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new gm.default(u)}return{error:u,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};yo.default=vm;var ym=Oe&&Oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vo,"__esModule",{value:!0});const wm=ym(yo);let xm=class extends wm.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${l};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vo.default=xm;var _m=Oe&&Oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zn,"__esModule",{value:!0});const km=_m(vo);let Sm=class extends km.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};zn.default=Sm;var bm=Oe&&Oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(go,"__esModule",{value:!0});const Yr=bm(zn);let jm=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Yr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Yr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Yr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Yr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};go.default=jm;var xo={},_o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.version=void 0;_o.version="0.0.0-automated";Object.defineProperty(xo,"__esModule",{value:!0});xo.DEFAULT_HEADERS=void 0;const Em=_o;xo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Em.version}`};var Jd=Oe&&Oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rl,"__esModule",{value:!0});const Nm=Jd(go),Cm=Jd(zn),Pm=xo;let Im=class Zd{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Pm.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Nm.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zd(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${e}`);let l;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(i="POST",l=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new Cm.default({method:i,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};rl.default=Im;var Hr=Oe&&Oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const Yd=Hr(rl);_e.PostgrestClient=Yd.default;const Xd=Hr(go);_e.PostgrestQueryBuilder=Xd.default;const eh=Hr(zn);_e.PostgrestFilterBuilder=eh.default;const th=Hr(vo);_e.PostgrestTransformBuilder=th.default;const rh=Hr(yo);_e.PostgrestBuilder=rh.default;const nh=Hr(wo);_e.PostgrestError=nh.default;var Am=_e.default={PostgrestClient:Yd.default,PostgrestQueryBuilder:Xd.default,PostgrestFilterBuilder:eh.default,PostgrestTransformBuilder:th.default,PostgrestBuilder:rh.default,PostgrestError:nh.default};const{PostgrestClient:Tm,PostgrestQueryBuilder:F0,PostgrestFilterBuilder:z0,PostgrestTransformBuilder:B0,PostgrestBuilder:H0,PostgrestError:W0}=Am;let Xi;typeof window>"u"?Xi=require("ws"):Xi=window.WebSocket;const Lm="2.11.10",$m={"X-Client-Info":`realtime-js/${Lm}`},Rm="1.0.0",sh=1e4,Dm=1e3;var Ir;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ir||(Ir={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var We;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(We||(We={}));var ea;(function(t){t.websocket="websocket"})(ea||(ea={}));var Gt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gt||(Gt={}));class Om{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+s));i=i+s;const l=n.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class oh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const gu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=Um(i,t,e,s),o),{})},Um=(t,e,r,n)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?ih(o,i):ta(i)},ih=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Bm(e,r)}switch(t){case B.bool:return Mm(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return Fm(e);case B.json:case B.jsonb:return zm(e);case B.timestamp:return Hm(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return ta(e);default:return ta(e)}},ta=t=>t,Mm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Fm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},zm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Bm=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>ih(e,a))}return t},Hm=t=>typeof t=="string"?t.replace(" ","T"):t,ah=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Yo{constructor(e,r,n={},s=sh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vu||(vu={}));class pn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pn.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=pn.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=pn.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),a={},l={};return this.map(o,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const h=o[u];if(h){const f=d.map(S=>S.presence_ref),v=h.map(S=>S.presence_ref),y=d.filter(S=>v.indexOf(S.presence_ref)<0),x=h.filter(S=>f.indexOf(S.presence_ref)<0);y.length>0&&(a[u]=y),x.length>0&&(l[u]=x)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(i,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yu||(yu={}));var wu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wu||(wu={}));var nt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(nt||(nt={}));class nl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yo(this,We.join,this.params,this.timeout),this.rejoinTimer=new oh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new pn(this),this.broadcastEndpointURL=ah(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>e==null?void 0:e(nt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(nt.CLOSED));const l={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(nt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let x=0;x<v;x++){const S=f[x],{filter:{event:g,schema:p,table:m,filter:w}}=S,_=d&&d[x];if(_&&_.event===g&&_.schema===p&&_.table===m&&_.filter===w)y.push(Object.assign(Object.assign({},S),{id:_.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(nt.SUBSCRIBED);return}}).receive("error",d=>{this.state=pe.errored,e==null||e(nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Yo(this,We.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yo(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=We;if(n&&[a,l,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,x,S;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(x=v.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===i}).map(v=>v.callback(f,n)):(o=this.bindings[i])===null||o===void 0||o.filter(v=>{var y,x,S,g,p,m;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const w=v.id,_=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:x,table:S,commit_timestamp:g,type:p,errors:m}=y;f=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(y))}v.callback(f,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&nl.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(We.close,{},e)}_onError(e){this._on(We.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=gu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=gu(e.columns,e.old_record)),r}}const xu=()=>{},Wm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vm{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=$m,this.params={},this.timeout=sh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xu,this.ref=0,this.logger=xu,this.conn=null,this.sendBuffer=[],this.serializer=new Om,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Fn(async()=>{const{default:l}=await Promise.resolve().then(()=>Br);return{default:l}},void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${e}/${ea.websocket}`,this.httpEndpoint=ah(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new oh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Xi),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Gm(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rm}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return Gt.Connecting;case Ir.open:return Gt.Open;case Ir.closing:return Gt.Closing;default:return Gt.Closed}}isConnected(){return this.connectionState()===Gt.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new nl(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(We.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Dm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(We.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Wm],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Gm{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ir.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class sl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qm extends sl{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ra extends sl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Km=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function l(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const lh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fn(async()=>{const{default:n}=await Promise.resolve().then(()=>Br);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Qm=()=>Km(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fn(()=>Promise.resolve().then(()=>Br),void 0)).Response:Response}),na=t=>{if(Array.isArray(t))return t.map(r=>na(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=na(n)}),e};var or=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function l(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Xo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Jm=(t,e,r)=>or(void 0,void 0,void 0,function*(){const n=yield Qm();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new qm(Xo(s),t.status||500))}).catch(s=>{e(new ra(Xo(s),s))}):e(new ra(Xo(t),t))}),Zm=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Bn(t,e,r,n,s,o){return or(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,Zm(e,n,s,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>Jm(l,a,n))})})}function Zs(t,e,r,n){return or(this,void 0,void 0,function*(){return Bn(t,"GET",e,r,n)})}function wt(t,e,r,n,s){return or(this,void 0,void 0,function*(){return Bn(t,"POST",e,n,s,r)})}function Ym(t,e,r,n,s){return or(this,void 0,void 0,function*(){return Bn(t,"PUT",e,n,s,r)})}function Xm(t,e,r,n){return or(this,void 0,void 0,function*(){return Bn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function uh(t,e,r,n,s){return or(this,void 0,void 0,function*(){return Bn(t,"DELETE",e,n,s,r)})}var we=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function l(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const eg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_u={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tg{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=lh(s)}uploadOrUpdate(e,r,n,s){return we(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},_u),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(ne(o))return{data:null,error:o};throw o}})}upload(e,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return we(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:_u.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return we(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield wt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new sl("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}update(e,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return we(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}copy(e,r,n){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield wt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return we(this,void 0,void 0,function*(){try{const s=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}download(e,r){return we(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Zs(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ne(a))return{data:null,error:a};throw a}})}info(e){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Zs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:na(n),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}exists(e){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Xm(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ne(n)&&n instanceof ra){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}list(e,r,n){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},eg),r),{prefix:e||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const rg="2.7.1",ng={"X-Client-Info":`storage-js/${rg}`};var ar=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function l(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class sg{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},ng),r),this.fetch=lh(n)}listBuckets(){return ar(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ne(e))return{data:null,error:e};throw e}})}getBucket(e){return ar(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ar(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ar(this,void 0,void 0,function*(){try{return{data:yield Ym(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ar(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ar(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}}class og extends sg{constructor(e,r={},n){super(e,r,n)}from(e){return new tg(this.url,this.headers,e,this.fetch)}}const ig="2.50.0";let nn="";typeof Deno<"u"?nn="deno":typeof document<"u"?nn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nn="react-native":nn="node";const ag={"X-Client-Info":`supabase-js-${nn}/${ig}`},lg={headers:ag},ug={schema:"public"},cg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dg={};var hg=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function l(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const fg=t=>{let e;return t?e=t:typeof fetch>"u"?e=qd:e=fetch,(...r)=>e(...r)},pg=()=>typeof Headers>"u"?Kd:Headers,mg=(t,e,r)=>{const n=fg(r),s=pg();return(o,i)=>hg(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var gg=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function l(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function vg(t){return t.endsWith("/")?t:t+"/"}function yg(t,e){var r,n;const{db:s,auth:o,realtime:i,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>gg(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const ch="2.70.0",dr=30*1e3,sa=3,ei=sa*dr,wg="http://localhost:9999",xg="supabase.auth.token",_g={"X-Client-Info":`gotrue-js/${ch}`},oa="X-Supabase-Api-Version",dh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sg=6e5;class ol extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function T(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bg extends ol{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jg(t){return T(t)&&t.name==="AuthApiError"}class hh extends ol{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ut extends ol{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class gt extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Eg(t){return T(t)&&t.name==="AuthSessionMissingError"}class cs extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ds extends Ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hs extends Ut{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ng(t){return T(t)&&t.name==="AuthImplicitGrantRedirectError"}class ku extends Ut{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ia extends Ut{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ti(t){return T(t)&&t.name==="AuthRetryableFetchError"}class Su extends Ut{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class mn extends Ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bu=` 	
\r=`.split(""),Cg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bu.length;e+=1)t[bu[e].charCodeAt(0)]=-2;for(let e=0;e<Ys.length;e+=1)t[Ys[e].charCodeAt(0)]=e;return t})();function ju(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ys[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ys[n]),e.queuedBits-=6}}function fh(t,e,r){const n=Cg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Eu(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{Ag(i,n,r)};for(let i=0;i<t.length;i+=1)fh(t.charCodeAt(i),s,o);return e.join("")}function Pg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ig(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Pg(n,e)}}function Ag(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Tg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)fh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Lg(t){const e=[];return Ig(t,r=>e.push(r)),new Uint8Array(e)}function $g(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>ju(s,r,n)),ju(null,r,n),e.join("")}function Rg(t){return Math.round(Date.now()/1e3)+t}function Dg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",Bt={tested:!1,writable:!1},gn=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bt.tested)return Bt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bt.tested=!0,Bt.writable=!0}catch{Bt.tested=!0,Bt.writable=!1}return Bt.writable};function Og(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const ph=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fn(async()=>{const{default:n}=await Promise.resolve().then(()=>Br);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Ug=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",mh=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},fs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ps=async(t,e)=>{await t.removeItem(e)};class ko{constructor(){this.promise=new ko.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ko.promiseConstructor=Promise;function ri(t){const e=t.split(".");if(e.length!==3)throw new mn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!kg.test(e[n]))throw new mn("JWT not in base64url format");return{header:JSON.parse(Eu(e[0])),payload:JSON.parse(Eu(e[1])),signature:Tg(e[2]),raw:{header:e[0],payload:e[1]}}}async function Mg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Fg(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function zg(t){return("0"+t.toString(16)).substr(-2)}function Bg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,zg).join("")}async function Hg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Wg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Hg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lr(t,e,r=!1){const n=Bg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await mh(t,`${e}-code-verifier`,s);const o=await Wg(n);return[o,n===o?"plain":"s256"]}const Vg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gg(t){const e=t.headers.get(oa);if(!e||!e.match(Vg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Kg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ur(t){if(!Qg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Jg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Vt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zg=[502,503,504];async function Nu(t){var e;if(!Ug(t))throw new ia(Vt(t),0);if(Zg.includes(t.status))throw new ia(Vt(t),t.status);let r;try{r=await t.json()}catch(o){throw new hh(Vt(o),o)}let n;const s=Gg(t);if(s&&s.getTime()>=dh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Su(Vt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new gt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Su(Vt(r),t.status,r.weak_password.reasons);throw new bg(Vt(r),t.status||500,n)}const Yg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[oa]||(o[oa]=dh["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Xg(t,e,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Xg(t,e,r,n,s,o){const i=Yg(e,n,s,o);let a;try{a=await t(r,Object.assign({},i))}catch(l){throw console.error(l),new ia(Vt(l),0)}if(a.ok||await Nu(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Nu(l)}}function tt(t){var e;let r=null;n0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Rg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Cu(t){const e=tt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function e0(t){return{data:t,error:null}}function t0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=Jg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function r0(t){return t}function n0(t){return t.access_token&&t.refresh_token&&t.expires_in}const ni=["global","local","others"];var s0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class o0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=ph(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ni[0]){if(ni.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ni.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:kt})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=s0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:t0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(T(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:r0});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(T(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ur(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ur(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:kt})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ur(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:kt})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ur(e.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(T(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ur(e.userId),ur(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}}}const i0={getItem:t=>gn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{gn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{gn()&&globalThis.localStorage.removeItem(t)}};function Pu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function a0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cr={debug:!!(globalThis&&gn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class l0 extends gh{}async function u0(t,e,r){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new l0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}a0();const c0={url:wg,storageKey:xg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_g,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Iu(t,e,r){return await r()}class $n{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$n.nextInstanceID,$n.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},c0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new o0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ph(s.fetch),this.lock=s.lock||Iu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ze()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=u0:this.lock=Iu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:gn()?this.storage=i0:(this.memoryStorage={},this.storage=Pu(this.memoryStorage)):(this.memoryStorage={},this.storage=Pu(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ch}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Og(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ze()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Ng(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return T(r)?{error:r}:{error:new hh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:tt}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(T(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await lr(this.storage,this.storageKey)),o=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:tt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;o=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:tt})}else throw new ds("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(T(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cu})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cu})}else throw new ds("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new cs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,o,i,a,l,u,d,h,f,v;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:S,wallet:g,statement:p,options:m}=e;let w;if(ze())if(typeof g=="object")w=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:S,error:g}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:$g(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:tt});if(g)throw g;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new cs}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:g})}catch(S){if(T(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const r=await fs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:tt});if(await ps(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new cs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(T(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new cs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await lr(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ds("You must provide either an email or phone number.")}catch(a){if(T(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:tt});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(T(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await lr(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:e0})}catch(o){if(T(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new gt;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(T(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:a}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new ds("You must provide either an email or phone number and a type")}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ei:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:kt})})}catch(r){if(T(r))return Eg(r)&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new gt;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await lr(this.storage,this.storageKey));const{data:u,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:kt});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gt;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=ri(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(T(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new gt;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ze())throw new hs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ku("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ku("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:u}=e;if(!o||!a||!i||!u)throw new hs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const v=f-d;v*1e3<=dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:x,error:S}=await this._getUser(o);if(S)throw S;const g={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(T(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(jg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Dg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await lr(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(T(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,l,u,d;const{data:h,error:f}=o;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ze()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(T(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(T(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Fg(async s=>(s>0&&await Mg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tt})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ti(o)&&Date.now()+i-n<dr})}catch(n){if(this._debug(r,"error",n),T(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ze()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await fs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ei;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ei}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),ti(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ko;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new gt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),T(o)){const i={session:null,error:o};return ti(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await mh(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ps(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),dr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${dr}ms, refresh threshold is ${sa} ticks`),s<=sa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await lr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(T(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(T(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:a}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(r){if(T(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(T(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ri(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(i=>i.kid===e);if(n||(n=this.jwks.keys.find(i=>i.kid===e),n&&this.jwks_cached_at+Sg>Date.now()))return n;const{data:s,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new mn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===e),!n)throw new mn("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=ri(n);if(qg(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:o,header:s,signature:i},error:null}}const u=Kg(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,Lg(`${a}.${l}`)))throw new mn("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}}}$n.nextInstanceID=0;const d0=$n;class h0 extends d0{constructor(e){super(e)}}var f0=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function l(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class p0{constructor(e,r,n){var s,o,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=vg(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:ug,realtime:dg,auth:Object.assign(Object.assign({},cg),{storageKey:u}),global:lg},h=yg(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=mg(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Tm(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new lm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new og(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return f0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:a,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Vm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const m0=(t,e,r)=>new p0(t,e,r);var Au={};let ut,Se;const g0=typeof window<"u";if(g0)ut="https://ixgtldylhlfjvgpilcbi.supabase.co",Se="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4Z3RsZHlsaGxmanZncGlsY2JpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1NzE1NTgsImV4cCI6MjA2NTE0NzU1OH0._D9-5NDLEHchQmQqwVEobYaMpuzkfrI9deZrRmT5H8g";else try{require("dotenv").config(),ut=Au.VITE_SUPABASE_URL||"https://ixgtldylhlfjvgpilcbi.supabase.co",Se=Au.VITE_SUPABASE_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4Z3RsZHlsaGxmanZncGlsY2JpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1NzE1NTgsImV4cCI6MjA2NTE0NzU1OH0._D9-5NDLEHchQmQqwVEobYaMpuzkfrI9deZrRmT5H8g"}catch{ut="https://ixgtldylhlfjvgpilcbi.supabase.co",Se="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4Z3RsZHlsaGxmanZncGlsY2JpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1NzE1NTgsImV4cCI6MjA2NTE0NzU1OH0._D9-5NDLEHchQmQqwVEobYaMpuzkfrI9deZrRmT5H8g"}console.log("Inicializando Supabase con URL:",ut);console.log("Usando clave de Supabase (primeros 10 caracteres):",Se?Se.substring(0,10)+"...":"No disponible");const $=m0(ut,Se,{auth:{autoRefreshToken:!0,persistSession:!0},global:{headers:{apikey:Se,Authorization:`Bearer ${Se}`}},storageKey:Se});async function v0(){try{console.log("Verificando conexión a Supabase...");const{data:t,error:e}=await $.from("cat").select("count(*)",{count:"exact"});e?console.error("Error al verificar conexión a Supabase:",e):console.log("Conexión a Supabase verificada. Resultado:",t)}catch(t){console.error("Error al verificar conexión a Supabase:",t)}}v0();$.getUrl=()=>ut;$.supabaseUrl=ut;$.supabaseKey=Se;$.checkConnection=async()=>{try{const{data:t,error:e}=await $.auth.getSession();return{ok:!e,data:t,error:e,url:ut,key:Se?Se.substring(0,10)+"...":"No disponible"}}catch(t){return{ok:!1,error:t,url:ut,key:Se?Se.substring(0,10)+"...":"No disponible"}}};const vh={async login(t,e){try{console.log(`Intentando iniciar sesión con usuario: ${t}`),console.log("Conectando a Supabase:",$.getUrl());const{data:r,error:n}=await $.from("user").select("*").eq("username",t);if(n)throw console.error("Error en la consulta a Supabase:",n),n;if(console.log("Respuesta de Supabase:",r?`Encontrados ${r.length} usuarios`:"No se encontraron usuarios"),!r||r.length===0)throw console.log("Usuario no encontrado"),new Error("Credenciales incorrectas");const s=r[0];if(s.password!==e)throw console.log("Contraseña incorrecta"),new Error("Credenciales incorrectas");console.log("Inicio de sesión exitoso");const{password:o,...i}=s;return i}catch(r){throw console.error("Error en el inicio de sesión:",r),r}},async getUsers(){try{const{data:t,error:e}=await $.from("user").select("id, username, nombre, apellidos, rol, email").order("id");if(e)throw e;return t}catch(t){throw console.error("Error al obtener usuarios:",t),t}},async createUser(t){try{const{data:e,error:r}=await $.from("user").insert(t).select().single();if(r)throw r;return e}catch(e){throw console.error("Error al crear usuario:",e),e}},async updateUser(t,e){try{const{data:r,error:n}=await $.from("user").update(e).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error(`Error al actualizar usuario con ID ${t}:`,r),r}},async deleteUser(t){try{const{error:e}=await $.from("user").delete().eq("id",t);if(e)throw e;return{message:"Usuario eliminado correctamente"}}catch(e){throw console.error(`Error al eliminar usuario con ID ${t}:`,e),e}}},yh=A.createContext(),Hn=()=>{const t=A.useContext(yh);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},y0=({children:t})=>{const[e,r]=A.useState(!1),[n,s]=A.useState(null),[o,i]=A.useState(!1),[a,l]=A.useState(null),u=async(f,v)=>{try{i(!0),l(null);const y=await vh.login(f,v),x=em[y.rol]||{},S={...y,permissions:x};return s(S),r(!0),sessionStorage.setItem("user",JSON.stringify(S)),!0}catch(y){return console.error("Error en inicio de sesión:",y),l("Credenciales incorrectas"),!1}finally{i(!1)}},d=()=>{r(!1),s(null),sessionStorage.removeItem("user")};A.useEffect(()=>{const f=()=>{const v=sessionStorage.getItem("user");if(v)try{const y=JSON.parse(v);s(y),r(!0)}catch(y){console.error("Error parsing stored user:",y),sessionStorage.removeItem("user")}i(!1)};i(!0),f()},[]);const h={isAuthenticated:e,user:n,login:u,logout:d,loading:o,error:a};return c.jsx(yh.Provider,{value:h,children:t})};class w0{async getAllCats(){try{console.log("Consultando gatos en Supabase...");const{data:e,error:r}=await $.from("cat").select(`
          *
        `).order("id");if(r)throw console.error("Error de Supabase:",r),r;console.log("Datos recibidos de Supabase:",e);const n=[];for(const s of e)try{const o=this.transformApiCat(s);if(o){if(o.fotos||(o.fotos=[]),o.nombre)try{const i=await this.getAllPhotosFromBucket(o.nombre);i&&i.length>0?(o.fotos=[...i,...o.fotos],console.log(`Fotos de bucket encontradas para ${o.nombre}: ${i.length} fotos`)):o.fotos.length===0&&(console.log(`Usando foto por defecto para ${o.nombre}`),o.fotos=["https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400&h=300&fit=crop"])}catch(i){console.error(`Error al recuperar foto de bucket para ${o.nombre}:`,i),o.fotos.length===0&&(o.fotos=["https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400&h=300&fit=crop"])}n.push(o)}}catch(o){console.error("Error procesando gato:",o,s)}return console.log("Datos transformados con fotos del bucket:",n),n}catch(e){throw console.error("Error al obtener todos los gatos:",e),e}}async getCatById(e){try{const{data:r,error:n}=await $.from("cat").select("*").eq("id",e).single();if(n)throw n;const s=this.transformApiCat(r);if(s&&s.nombre){const o=await this.getAllPhotosFromBucket(s.nombre);s.fotos=[],o&&o.length>0?s.fotos=o:s.fotos.length===0&&(s.fotos=["https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400&h=300&fit=crop"])}return s}catch(r){throw console.error(`Error al obtener gato con ID ${e}:`,r),r}}async createCat(e){try{if(!e.nombre||!e.fechaNacimiento||!e.lugarRecogida||!e.anoLlegada)throw new Error("Faltan campos obligatorios");const r=this.transformToApiFormat(e),n=e.fotos||[];delete r.fotos;const{data:s,error:o}=await $.from("cat").insert(r).select().single();if(o)throw o;return n.length>0&&(console.log(`Subiendo ${n.length} fotos al Storage para el gato ${s.name||s.id}`),(await this.uploadCatPhotos(s.id,n,s.name)).success?console.log(`Fotos subidas con éxito para el gato ${s.name}`):console.warn(`Algunas fotos no pudieron ser subidas para el gato ${s.name}`)),this.getCatById(s.id)}catch(r){throw console.error("Error al crear gato:",r),r}}async updateCat(e,r){try{if(!r.nombre||!r.fechaNacimiento||!r.lugarRecogida||!r.anoLlegada)throw new Error("Faltan campos obligatorios");const n=this.transformToApiFormat(r),s=r.fotos||[];delete n.fotos;const{error:o}=await $.from("cat").update(n).eq("id",e);if(o)throw o;const i=await this.getCatById(e),a=i.fotos||[],l=s.filter(u=>!a.includes(u));return l.length>0?(console.log(`Detectadas ${l.length} fotos nuevas para subir`),(await this.uploadCatPhotos(e,l,i.nombre)).success?console.log(`Fotos nuevas subidas con éxito para el gato ${i.nombre}`):console.warn(`Algunas fotos nuevas no pudieron ser subidas para el gato ${i.nombre}`)):console.log("No se detectaron fotos nuevas para subir"),this.getCatById(e)}catch(n){throw console.error(`Error al actualizar gato con ID ${e}:`,n),n}}async deleteCat(e){try{const{error:r}=await $.from("cat").delete().eq("id",e);if(r)throw r;return{message:"Gato eliminado correctamente"}}catch(r){throw console.error(`Error al eliminar gato con ID ${e}:`,r),r}}async searchCats(e={}){try{let r=$.from("cat").select("*");e.nombre&&(r=r.ilike("nombre",`%${e.nombre}%`)),e.sexo!==void 0&&e.sexo!==""&&(r=r.eq("sexo",e.sexo)),e.adoptado!==void 0&&e.adoptado!==""&&(r=r.eq("adoptado",e.adoptado)),e.lugarRecogida&&(r=r.ilike("lugar_recogida",`%${e.lugarRecogida}%`));const{data:n,error:s}=await r.order("id");if(s)throw s;const o=[];for(const i of n){const a=this.transformApiCat(i);if(a&&a.nombre){const l=await this.getAllPhotosFromBucket(a.nombre);a.fotos=[],l&&l.length>0?a.fotos=l:a.fotos=["https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400&h=300&fit=crop"]}o.push(a)}return o}catch(r){throw console.error("Error al buscar gatos:",r),r}}async getStats(){try{const e=await this.getAllCats(),r=e.length,n=e.filter(d=>d.adoptado).length,s=e.filter(d=>d.apadrinado).length,o=e.filter(d=>!d.adoptado&&!d.fechaFallecido&&!d.desaparecido).length,i=e.filter(d=>d.fechaFallecido).length,a=e.filter(d=>d.desaparecido).length,l=e.filter(d=>!d.testado&&!d.fechaFallecido).length,u=e.filter(d=>!d.castrado&&!d.fechaFallecido).length;return{total:r,adoptados:n,apadrinados:s,disponibles:o,fallecidos:i,desaparecidos:a,sinTestar:l,sinCastrar:u,porcentajeAdoptados:r>0?Math.round(n/r*100):0}}catch(e){throw console.error("Error al obtener estadísticas:",e),e}}async uploadCatPhotos(e,r,n){try{if(console.log(`Intentando subir ${r.length} fotos para el gato ${n} (ID: ${e})`),!n)return console.error("Se requiere el nombre del gato para subir fotos"),!1;if(!r||r.length===0)return console.log("No hay fotos para subir"),!0;const s=n.trim(),o=n.trim().toLowerCase().replace(/\s+/g,"_");console.log(`Verificando si existe la carpeta: ${s}`);let i=1;try{const{data:u,error:d}=await $.storage.from("cat-photos").list(s,{sortBy:{column:"name",order:"desc"}});if(!d&&u&&u.length>0){console.log(`Carpeta "${s}" encontrada con ${u.length} archivos`);const h=u.filter(f=>f.name.toLowerCase().endsWith(".jpg")||f.name.toLowerCase().endsWith(".jpeg"));if(h.length>0){const f=new RegExp(`${o}(\\d+)\\.jpe?g$`,"i");let v=0;for(const y of h){const x=y.name.match(f);if(x&&x[1]){const S=parseInt(x[1],10);S>v&&(v=S)}}i=v+1,console.log(`Número secuencial más alto encontrado: ${v}, siguiente será: ${i}`)}}else console.log(`No se encontró la carpeta "${s}" o está vacía, se creará`)}catch(u){console.warn("Error al verificar archivos existentes:",u)}const a=[];let l=!0;for(let u=0;u<r.length;u++){const d=r[u],h=i+u,f=`${o}${h}.jpg`,v=`${s}/${f}`;console.log(`Subiendo foto ${u+1}/${r.length} como "${v}"`);try{let y;if(d.startsWith("data:"))y=await(await fetch(d)).blob();else if(d.startsWith("http"))try{y=await(await fetch(d)).blob()}catch(g){console.error("Error al descargar imagen desde URL:",g),l=!1;continue}else{console.error("Formato de foto no soportado:",d.substring(0,30)+"..."),l=!1;continue}const{data:x,error:S}=await $.storage.from("cat-photos").upload(v,y,{cacheControl:"3600",upsert:!0,contentType:"image/jpeg"});if(S)console.error(`Error al subir foto ${v}:`,S),l=!1;else{console.log(`Foto subida con éxito: ${v}`);const{data:g}=await $.storage.from("cat-photos").getPublicUrl(v);if(g!=null&&g.publicUrl){const p=`${g.publicUrl}?t=${new Date().getTime()}`;a.push(p),console.log(`URL pública generada: ${p}`)}}}catch(y){console.error(`Error general al procesar foto ${u+1}:`,y),l=!1}}return console.log(`Proceso de subida finalizado. Éxito: ${l}, URLs generadas: ${a.length}`),{success:l,urls:a}}catch(s){return console.error("Error general en uploadCatPhotos:",s),{success:!1,urls:[]}}}transformApiCat(e){return e?(console.log("Transformando gato API:",e),{id:e.id,nombre:e.name||e.nombre||"",fechaNacimiento:e.fechaNacimiento||"",lugarRecogida:e.lugarRecogida||"",testado:e.testado||!1,castrado:e.castrado||!1,sexo:e.sexo!==void 0?e.sexo:!0,caracter:e.caracter||"",gatoAireLibre:e.gatoAireLibre||!1,gatoInterior:e.gatoInterior||!1,familia:e.familia||!1,compatibleNinos:e.compatibleNinos||!1,casaTranquila:e.casaTranquila||!1,historia:e.historia||"",apadrinado:e.apadrinado||!1,adoptado:e.adoptado||!1,desaparecido:e.desaparecido||!1,fechaFallecido:e.fechaFallecido||null,anoLlegada:e.anoLlegada||"",fotos:[]}):(console.error("transformApiCat recibió un objeto nulo o indefinido"),null)}transformToApiFormat(e){return{name:e.nombre,fechaNacimiento:e.fechaNacimiento,lugarRecogida:e.lugarRecogida,testado:e.testado||!1,castrado:e.castrado||!1,sexo:e.sexo!==void 0?e.sexo:!0,caracter:e.caracter||"",gatoAireLibre:e.gatoAireLibre||!1,gatoInterior:e.gatoInterior||!1,familia:e.familia||!1,compatibleNinos:e.compatibleNinos||!1,casaTranquila:e.casaTranquila||!1,historia:e.historia||"",apadrinado:e.apadrinado||!1,adoptado:e.adoptado||!1,desaparecido:e.desaparecido||!1,fechaFallecido:e.fechaFallecido||null,anoLlegada:e.anoLlegada,fotos:e.fotos||[]}}async getMainPhotoFromBucket(e){try{if(!e)return console.error("No se proporcionó nombre de gato para buscar fotos"),null;console.log(`### INICIO BÚSQUEDA DE FOTOS PARA: "${e}" ###`);const r=e.split(" ")[0];console.log(`Buscando carpeta con el nombre del gato: "${r}"`);const{data:n,error:s}=await $.storage.from("cat-photos").list("",{sortBy:{column:"name",order:"asc"}});if(s||!n)console.error("Error al listar el contenido raíz del bucket:",s||"No se obtuvieron datos");else{console.log(`Se encontraron ${n.length} elementos en el raíz del bucket`);const a=n.filter(d=>!d.name.includes("."));console.log(`Carpetas encontradas: ${a.map(d=>d.name).join(", ")}`);const l=[r,r.toLowerCase(),e,e.toLowerCase()];let u=null;for(const d of l){const h=a.find(f=>f.name.toLowerCase()===d.toLowerCase());if(h){u=h.name,console.log(`¡Carpeta encontrada! "${u}"`);break}}if(!u){const d=a.find(h=>h.name.toLowerCase().includes(r.toLowerCase())||e.includes(" ")&&h.name.toLowerCase().includes(e.toLowerCase()));d&&(u=d.name,console.log(`Carpeta encontrada por coincidencia parcial: "${u}"`))}if(u){console.log(`Listando contenido de la carpeta "${u}"...`);const{data:d,error:h}=await $.storage.from("cat-photos").list(u,{sortBy:{column:"name",order:"asc"}});if(h)console.error(`Error al listar contenido de la carpeta ${u}:`,h);else if(d&&d.length>0){console.log(`Se encontraron ${d.length} archivos en la carpeta "${u}": ${d.map(v=>v.name).join(", ")}`);const f=d.filter(v=>v.name.toLowerCase().endsWith(".jpg")||v.name.toLowerCase().endsWith(".jpeg"));if(f.length>0){const v=f[0];console.log(`Usando la primera imagen de la carpeta: "${v.name}"`);const{data:y}=await $.storage.from("cat-photos").getPublicUrl(`${u}/${v.name}`);if(y!=null&&y.publicUrl)return console.log(`URL generada: ${y.publicUrl}`),`${y.publicUrl}?t=${new Date().getTime()}`}}else console.log(`La carpeta "${u}" está vacía`)}else console.log(`No se encontró ninguna carpeta para el gato "${e}"`)}if(console.log(`
### ESTRATEGIA DE RESPALDO: Buscando archivos directos en el raíz ###`),n&&n.length>0){const a=n.filter(l=>{const u=l.name.toLowerCase();return u.startsWith(r.toLowerCase())&&u.endsWith(".jpg")&&/\d+\.jpg$/.test(u)});if(a.length>0){console.log(`Archivos directos encontrados: ${a.map(d=>d.name).join(", ")}`);const l=a[0];console.log(`Usando archivo directo: "${l.name}"`);const{data:u}=await $.storage.from("cat-photos").getPublicUrl(l.name);if(u!=null&&u.publicUrl)return`${u.publicUrl}?t=${new Date().getTime()}`}}console.log(`
### ESTRATEGIA DE RESPALDO 2: Intentos directos con nombres específicos ###`);const o=[`${r}/${r}1.jpg`,`${r}/1.jpg`,`${r}/foto.jpg`,`${r.toLowerCase()}/${r.toLowerCase()}1.jpg`,`${r.toLowerCase()}/1.jpg`,`${r}1.jpg`,`${r.toLowerCase()}1.jpg`,"prueba.jpg"];for(const a of o){console.log(`Intentando acceder directamente a: ${a}`);try{const{data:l}=await $.storage.from("cat-photos").getPublicUrl(a);if(l!=null&&l.publicUrl)return console.log(`¡Archivo encontrado directamente! ${a}`),`${l.publicUrl}?t=${new Date().getTime()}`}catch{console.log(`No se pudo acceder a ${a}`)}}console.log(`
### FALLBACK FINAL: Usando imagen de prueba ###`);const{data:i}=await $.storage.from("cat-photos").getPublicUrl("prueba.jpg");return console.log("URL de imagen de prueba generada:",i==null?void 0:i.publicUrl),i!=null&&i.publicUrl?`${i.publicUrl}?t=${new Date().getTime()}`:"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400&h=300&fit=crop"}catch(r){console.error("Error al obtener fotos del gato:",r);try{const{data:n}=await $.storage.from("cat-photos").getPublicUrl("prueba.jpg");return n!=null&&n.publicUrl?`${n.publicUrl}?t=${new Date().getTime()}`:"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400&h=300&fit=crop"}catch{return"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400&h=300&fit=crop"}}}async getAllPhotosFromBucket(e){try{if(!e)return console.error("No se proporcionó nombre de gato para buscar fotos"),[];const r=new Date().getTime();console.log(`### INICIO BÚSQUEDA DE TODAS LAS FOTOS PARA: "${e}" (timestamp: ${r}) ###`);const n=[],s=e.split(" ")[0],{data:o,error:i}=await $.storage.from("cat-photos").list("",{sortBy:{column:"name",order:"asc"},offset:0});if(i||!o)console.error("Error al listar el contenido raíz del bucket:",i||"No se obtuvieron datos");else{console.log(`Se encontraron ${o.length} elementos en el raíz del bucket`);const a=o.filter(u=>!u.name.includes("."));console.log(`Carpetas encontradas: ${a.map(u=>u.name).join(", ")}`);let l=a.find(u=>u.name.toLowerCase()===s.toLowerCase()||u.name.toLowerCase()===e.toLowerCase());if(l){console.log(`Carpeta encontrada para el gato: "${l.name}"`);const{data:u,error:d}=await $.storage.from("cat-photos").list(l.name,{sortBy:{column:"name",order:"asc"},offset:0});if(!d&&u&&u.length>0){console.log(`Se encontraron ${u.length} archivos en la carpeta "${l.name}"`);const h=u.filter(f=>f.name.toLowerCase().endsWith(".jpg")||f.name.toLowerCase().endsWith(".jpeg"));for(const f of h){const{data:v}=await $.storage.from("cat-photos").getPublicUrl(`${l.name}/${f.name}`);if(v!=null&&v.publicUrl){const y=`${v.publicUrl}?t=${r}`;n.push(y),console.log(`Añadida foto de carpeta: ${f.name}`)}}}}if(o.length>0){const u=o.filter(d=>{const h=d.name.toLowerCase();return h.startsWith(s.toLowerCase())&&h.endsWith(".jpg")&&/\d+\.jpg$/.test(h)});if(u.length>0){console.log(`Encontrados ${u.length} archivos directos en el raíz: ${u.map(d=>d.name).join(", ")}`);for(const d of u){const{data:h}=await $.storage.from("cat-photos").getPublicUrl(d.name);if(h!=null&&h.publicUrl){const f=`${h.publicUrl}?t=${r}`;n.includes(f)||(n.push(f),console.log(`Añadida foto del raíz: ${d.name}`))}}}}}if(n.length===0){console.log("No se encontraron fotos, usando imagen de prueba (prueba.jpg)");const{data:a}=await $.storage.from("cat-photos").getPublicUrl("prueba.jpg");a!=null&&a.publicUrl?n.push(`${a.publicUrl}?t=${r}`):n.push("https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400&h=300&fit=crop")}return console.log(`Total de fotos encontradas para ${e}: ${n.length}`),n}catch(r){return console.error("Error al obtener todas las fotos del gato:",r),["https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400&h=300&fit=crop"]}}async deletePhotoFromBucket(e,r){try{if(!e||!r)return console.error("Se requiere la URL de la foto y el nombre del gato para eliminar la foto"),!1;if(console.log(`DEPURACIÓN: Intentando eliminar la foto: ${e} del gato: ${r}`),!e.includes("supabase.co")&&!e.includes("supabase.in"))return console.warn("La URL no parece ser de Supabase storage:",e),!1;let n="";try{n=e.split("/").pop().split("?")[0],console.log("DEPURACIÓN: Nombre base del archivo extraído:",n)}catch(i){console.error("Error al extraer el nombre base del archivo:",i),n="unknown.jpg"}try{const i=new URL(e);console.log("DEPURACIÓN: URL parseada:",i);const a=i.pathname;console.log("DEPURACIÓN: Ruta completa:",a);const l=a.split("/object/")[1];if(console.log("DEPURACIÓN: Object path:",l),!l)return console.error("No se pudo extraer la ruta del objeto del storage"),!1;const u=decodeURIComponent(l);console.log("DEPURACIÓN: Ruta decodificada:",u);const d=u.split("?")[0];console.log("DEPURACIÓN: Ruta limpia:",d);const{error:h}=await $.storage.from("cat-photos").remove([d]);if(h)console.error("Error al eliminar el archivo usando la ruta extraída:",h);else return console.log("ÉXITO: Archivo eliminado correctamente usando la ruta extraída"),!0}catch(i){console.error("Error al parsear la URL:",i)}console.log("Intentando el método alternativo de eliminación...");const s=r.split(" ")[0].trim();let o=!1;try{const{data:i,error:a}=await $.storage.from("cat-photos").list("",{sortBy:{column:"name",order:"asc"}});if(!a&&i){const l=i.filter(u=>!u.name.includes(".")&&(u.name.toLowerCase()===s.toLowerCase()||u.name.toLowerCase()===r.toLowerCase()));for(const u of l)try{const{error:d}=await $.storage.from("cat-photos").remove([`${u.name}/${n}`]);if(!d){console.log(`Foto eliminada con éxito de la carpeta: ${u.name}/${n}`),o=!0;break}}catch(d){console.log(`No se pudo eliminar de ${u.name}/${n}: ${d.message}`)}}}catch(i){console.error("Error al listar carpetas:",i)}if(!o)try{const i=e.split("/"),l=i[i.length-1].split("?")[0];console.log("DEPURACIÓN: Intentando eliminar del raíz con nombre simplificado:",l);const{error:u}=await $.storage.from("cat-photos").remove([l]);u||(console.log(`Foto eliminada con éxito del raíz: ${l}`),o=!0)}catch(i){console.log(`No se pudo eliminar del raíz: ${i.message}`)}if(!o)try{console.log("DEPURACIÓN: Intentando buscar la foto en todas las carpetas");const{data:i}=await $.storage.from("cat-photos").list();if(i&&i.length>0){const a=i.filter(l=>!l.name.includes("."));for(const l of a){console.log(`DEPURACIÓN: Buscando en carpeta ${l.name}`);const{data:u}=await $.storage.from("cat-photos").list(l.name);if(u&&u.length>0){const d=e.split("/").pop().split("?")[0],h=u.find(f=>f.name===d||e.includes(f.name));if(h){console.log(`DEPURACIÓN: Archivo coincidente encontrado: ${l.name}/${h.name}`);const{error:f}=await $.storage.from("cat-photos").remove([`${l.name}/${h.name}`]);if(!f){console.log(`ÉXITO: Foto eliminada de ${l.name}/${h.name}`),o=!0;break}}}}}}catch(i){console.log("Error en el último intento:",i)}return o||(console.log("ADVERTENCIA: No se pudo encontrar la ubicación exacta de la foto para eliminarla"),!0)}catch(n){return console.error(`Error al eliminar la foto: ${n}`),!1}}}const ot=new w0,wh=A.createContext(),Wn=()=>{const t=A.useContext(wh);if(!t)throw new Error("useCats must be used within a CatProvider");return t},x0=({children:t})=>{const[e,r]=A.useState([]),[n,s]=A.useState([]),[o,i]=A.useState(null),[a,l]=A.useState(!1),[u,d]=A.useState(null),[h,f]=A.useState({});A.useEffect(()=>{v()},[]);const v=async()=>{l(!0);try{console.log("Iniciando carga de gatos desde el contexto...");const w=await ot.getAllCats();console.log("Datos recibidos en el contexto:",w),r(w),s(w)}catch(w){console.error("Error cargando los gatos:",w),d("Error cargando los gatos")}finally{l(!1)}},y=async w=>{try{const _=await ot.createCat(w);return r(k=>[...k,_]),Object.keys(h).length>0?g(h):s(k=>[...k,_]),_}catch(_){throw console.error("Error creando el gato:",_),d("Error creando el gato"),_}},x=async(w,_)=>{try{const k=await ot.updateCat(w,_);return r(j=>j.map(b=>b.id===w?k:b)),Object.keys(h).length>0?g(h):s(j=>j.map(b=>b.id===w?k:b)),o&&o.id===w&&i(k),k}catch(k){throw console.error("Error actualizando el gato:",k),d("Error actualizando el gato"),k}},S=async w=>{try{await ot.deleteCat(w);const _=new Date().toISOString().split("T")[0];r(k=>k.map(j=>j.id===parseInt(w)?{...j,fechaFallecido:_}:j)),Object.keys(h).length>0?g(h):s(k=>k.filter(j=>j.id!==parseInt(w))),o&&o.id===parseInt(w)&&i(null)}catch(_){throw console.error("Error eliminando el gato:",_),d("Error eliminando el gato"),_}},g=w=>{f(w);let _=e.filter(k=>!k.fechaFallecido);if(w.nombre&&(_=_.filter(k=>k.nombre.toLowerCase().includes(w.nombre.toLowerCase()))),w.sexo!==void 0&&w.sexo!==""){const k=w.sexo==="true"||w.sexo===!0;_=_.filter(j=>j.sexo===k)}if(w.adoptado!==void 0&&w.adoptado!==""){const k=w.adoptado==="true"||w.adoptado===!0;_=_.filter(j=>j.adoptado===k)}if(w.testado!==void 0&&w.testado!==""){const k=w.testado==="true"||w.testado===!0;_=_.filter(j=>j.testado===k)}if(w.castrado!==void 0&&w.castrado!==""){const k=w.castrado==="true"||w.castrado===!0;_=_.filter(j=>j.castrado===k)}if(w.apadrinado!==void 0&&w.apadrinado!==""){const k=w.apadrinado==="true"||w.apadrinado===!0;_=_.filter(j=>j.apadrinado===k)}w.lugarRecogida&&(_=_.filter(k=>k.lugarRecogida.toLowerCase().includes(w.lugarRecogida.toLowerCase()))),s(_)},m={cats:e,filteredCats:n,selectedCat:o,loading:a,error:u,setSelectedCat:i,createCat:y,updateCat:x,deleteCat:S,searchCats:async w=>{try{l(!0);const _=await ot.searchCats(w);s(_),f(w)}catch(_){console.error("Error buscando gatos:",_),d("Error en la búsqueda de gatos")}finally{l(!1)}},loadCats:v,clearError:()=>d(null)};return c.jsx(wh.Provider,{value:m,children:t})},_0={general:{appName:"Un Techo Para Gatos Callejeros Mallorca",loading:"Cargando...",error:"Error",save:"Guardar",cancel:"Cancelar",edit:"Editar",delete:"Eliminar",back:"Volver",noData:"No hay datos disponibles",search:"Buscar",logout:"Cerrar sesión"},login:{title:"Iniciar sesión",email:"Usuario",password:"Contraseña",submit:"Entrar",error:"Credenciales incorrectas",availableUsers:"Usuarios disponibles",userInfo:"Usuario / Contraseña"},dashboard:{welcome:"Bienvenido/a",summary:"Resumen",totalCats:"Total de gatos",adoptedCats:"Gatos adoptados",pendingCats:"Gatos pendientes",actions:"Acciones",language:"Idioma",manageUsers:"Gestionar Usuarios"},catList:{title:"Lista de gatos",addNew:"Añadir nuevo gato",noResults:"No se encontraron gatos con los filtros aplicados",viewDetails:"Ver detalles"},catDetail:{title:"Detalles del gato",basicInfo:"Información básica",healthInfo:"Información de salud",compatibility:"Compatibilidad",photos:"Fotos",addPhoto:"Añadir foto",deletePhoto:"Eliminar foto",adoptionStatus:"Estado de adopción",adopted:"Adoptado",available:"Disponible",deceased:"Fallecido",sponsorship:"Apadrinamiento",sponsored:"Apadrinado",notSponsored:"No apadrinado",confirmDelete:"¿Estás seguro de que quieres marcar este gato como fallecido?",noData:"No hay gato seleccionado",markDeceased:"Marcar Fallecido",startAdoption:"Iniciar Adopción",adoptionProcessStarted:"Proceso de adopción iniciado",age:"Edad",families:"Familias",children:"Niños",quietHome:"Casa tranquila",outdoor:"Aire libre",indoor:"Interior",notSpecified:"No especificado",missing:"Desaparecido",deathDate:"Fecha fallecimiento",currentStatus:"Estado Actual",characterAndCompatibility:"Carácter y Compatibilidad",character:"Carácter",compatibleWith:"Compatible con",preferredEnvironment:"Entorno preferido",history:"Historia",healthNotes:"Notas de salud (Solo personal veterinario)",noHealthNotes:"No hay notas de salud registradas",addHealthNotes:"Añadir notas",addHealthNotesAlert:"Función para añadir notas de salud en desarrollo",adoptionProcess:"Proceso de adopción",alreadyAdopted:"Este gato ya ha sido adoptado",viewAdoptionDetails:"Ver detalles",availableForAdoption:"Disponible para adopción",manageAdoptions:"Gestionar solicitudes",manageAdoptionApplications:"Función para gestionar solicitudes de adopción en desarrollo",viewAdoptionDetails:"Función para ver detalles de adopción en desarrollo",photo:"foto",photos:"fotos"},catForm:{newCat:"Nuevo gato",editCat:"Editar gato",name:"Nombre",sex:"Sexo",male:"Macho",female:"Hembra",birthDate:"Fecha de nacimiento",arrivalYear:"Año de llegada",collectionPlace:"Lugar de recogida",tested:"Testado",neutered:"Castrado",adopted:"Adoptado",sponsored:"Apadrinado",goodWithKids:"Bueno con niños",goodWithOtherCats:"Bueno con otros gatos",needsQuietHome:"Necesita casa tranquila",indoor:"De interior",outdoor:"De exterior",description:"Descripción",saveSuccess:"Gato guardado correctamente",saveError:"Error al guardar el gato"},searchFilters:{title:"Filtros de Búsqueda",clearFilters:"Limpiar filtros",name:"Nombre",namePlaceholder:"Buscar por nombre...",collectionPlace:"Lugar de recogida",collectionPlacePlaceholder:"Buscar por lugar...",sex:"Sexo",all:"Todos",male:"Macho",female:"Hembra",adoptionStatus:"Estado de adopción",adopted:"Adoptado",available:"Disponible",tested:"Testado",neutered:"Castrado",sponsored:"Apadrinado",yes:"Sí",no:"No",activeFilters:"Filtros activos"},photoManager:{title:"Gestor de fotos",upload:"Subir",delete:"Eliminar",setAsMain:"Establecer como principal",dragAndDrop:"Arrastra y suelta tus fotos aquí",or:"o",browseFiles:"Buscar archivos",noPhotos:"No hay fotos disponibles",uploadPhotos:"Añadir fotos",addMorePhotos:"Añadir más fotos",addByUrl:"Añadir por URL",enterImageUrl:"Introduce la URL de la imagen",confirmDeletePhoto:"¿Estás seguro de que quieres eliminar esta foto?",photoDeleted:"Foto eliminada correctamente",photoDeletedUIOnly:"Foto eliminada de la interfaz, pero hubo un problema con el storage",errorDeletingPhoto:"Error al eliminar la foto",photoAdded:"Foto añadida correctamente",uploadingPhotos:"Subiendo fotos...",uploadSuccess:"Fotos subidas correctamente",uploadPartialError:"Algunas fotos no pudieron ser subidas",uploadError:"Error al subir las fotos",photoAddedTemporarily:"Foto añadida temporalmente. Se subirá al guardar el gato",processingUrl:"Procesando URL...",urlUploadSuccess:"Imagen de URL subida correctamente",urlUploadError:"No se pudo subir la imagen desde la URL",urlProcessError:"Error al procesar la URL de la imagen"},userManagement:{title:"Gestión de Usuarios",addUser:"Añadir Usuario",editUser:"Editar Usuario",deleteUser:"Eliminar Usuario",username:"Nombre de usuario",password:"Contraseña",name:"Nombre",surname:"Apellidos",email:"Correo electrónico",role:"Rol",admin:"Administrador",volunteer:"Voluntario",adoption:"Adopción",veterinarian:"Veterinario",saveSuccess:"Usuario guardado correctamente",saveError:"Error al guardar el usuario",confirmDelete:"¿Estás seguro de que quieres eliminar este usuario?",noUsers:"No hay usuarios disponibles"}},k0={general:{appName:"A Roof For Stray Cats in Mallorca",loading:"Loading...",error:"Error",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",back:"Back",noData:"No data available",search:"Search",logout:"Logout"},login:{title:"Login",email:"Username",password:"Password",submit:"Sign in",error:"Incorrect credentials",availableUsers:"Available users",userInfo:"Username / Password"},dashboard:{welcome:"Welcome",summary:"Summary",totalCats:"Total cats",adoptedCats:"Adopted cats",pendingCats:"Pending cats",actions:"Actions",language:"Language",manageUsers:"Manage Users"},catList:{title:"Cat List",addNew:"Add new cat",noResults:"No cats found with the applied filters",viewDetails:"View details"},catDetail:{title:"Cat Details",basicInfo:"Basic Information",healthInfo:"Health Information",compatibility:"Compatibility",photos:"Photos",addPhoto:"Add photo",deletePhoto:"Delete photo",adoptionStatus:"Adoption Status",adopted:"Adopted",available:"Available",deceased:"Deceased",sponsorship:"Sponsorship",sponsored:"Sponsored",notSponsored:"Not sponsored",confirmDelete:"Are you sure you want to mark this cat as deceased?",noData:"No cat selected",markDeceased:"Mark as Deceased",startAdoption:"Start Adoption",adoptionProcessStarted:"Adoption process started",age:"Age",families:"Families",children:"Children",quietHome:"Quiet home",outdoor:"Outdoor",indoor:"Indoor",notSpecified:"Not specified",missing:"Missing",deathDate:"Death date",currentStatus:"Current Status",characterAndCompatibility:"Character and Compatibility",character:"Character",compatibleWith:"Compatible with",preferredEnvironment:"Preferred environment",history:"History",healthNotes:"Health notes (Veterinary staff only)",noHealthNotes:"No health notes recorded",addHealthNotes:"Add notes",addHealthNotesAlert:"Health notes adding function in development",adoptionProcess:"Adoption process",alreadyAdopted:"This cat has already been adopted",viewAdoptionDetails:"View details",availableForAdoption:"Available for adoption",manageAdoptions:"Manage applications",manageAdoptionApplications:"Adoption applications management function in development",viewAdoptionDetails:"Adoption details viewing function in development",photo:"photo",photos:"photos"},catForm:{newCat:"New Cat",editCat:"Edit Cat",name:"Name",sex:"Sex",male:"Male",female:"Female",birthDate:"Birth Date",arrivalYear:"Arrival Year",collectionPlace:"Collection Place",tested:"Tested",neutered:"Neutered",adopted:"Adopted",sponsored:"Sponsored",goodWithKids:"Good with kids",goodWithOtherCats:"Good with other cats",needsQuietHome:"Needs quiet home",indoor:"Indoor",outdoor:"Outdoor",description:"Description",saveSuccess:"Cat saved successfully",saveError:"Error saving cat"},searchFilters:{title:"Search Filters",clearFilters:"Clear filters",name:"Name",namePlaceholder:"Search by name...",collectionPlace:"Collection Place",collectionPlacePlaceholder:"Search by place...",sex:"Sex",all:"All",male:"Male",female:"Female",adoptionStatus:"Adoption Status",adopted:"Adopted",available:"Available",tested:"Tested",neutered:"Neutered",sponsored:"Sponsored",yes:"Yes",no:"No",activeFilters:"Active filters"},photoManager:{title:"Photo Manager",upload:"Upload",delete:"Delete",setAsMain:"Set as main",dragAndDrop:"Drag and drop your photos here",or:"or",browseFiles:"Browse files",noPhotos:"No photos available",uploadPhotos:"Add photos",addMorePhotos:"Add more photos",addByUrl:"Add by URL",enterImageUrl:"Enter the image URL",confirmDeletePhoto:"Are you sure you want to delete this photo?",photoDeleted:"Photo successfully deleted",photoDeletedUIOnly:"Photo removed from UI, but there was a storage issue",errorDeletingPhoto:"Error deleting photo",photoAdded:"Photo successfully added",uploadingPhotos:"Uploading photos...",uploadSuccess:"Photos uploaded successfully",uploadPartialError:"Some photos could not be uploaded",uploadError:"Error uploading photos",photoAddedTemporarily:"Photo temporarily added. It will be uploaded when saving the cat",processingUrl:"Processing URL...",urlUploadSuccess:"Image from URL uploaded successfully",urlUploadError:"Could not upload image from URL",urlProcessError:"Error processing image URL"},userManagement:{title:"User Management",addUser:"Add User",editUser:"Edit User",deleteUser:"Delete User",username:"Username",password:"Password",name:"Name",surname:"Surname",email:"Email",role:"Role",admin:"Administrator",volunteer:"Volunteer",adoption:"Adoption",veterinarian:"Veterinarian",saveSuccess:"User saved successfully",saveError:"Error saving user",confirmDelete:"Are you sure you want to delete this user?",noUsers:"No users available"}},S0={general:{appName:"Ein Dach für Straßenkatzen",loading:"Laden...",error:"Fehler",save:"Speichern",cancel:"Abbrechen",edit:"Bearbeiten",delete:"Löschen",back:"Zurück",noData:"Keine Daten verfügbar",search:"Suchen",logout:"Abmelden"},login:{title:"Anmelden",email:"Benutzername",password:"Passwort",submit:"Einloggen",error:"Falsche Anmeldeinformationen",availableUsers:"Verfügbare Benutzer",userInfo:"Benutzername / Passwort"},dashboard:{welcome:"Willkommen",summary:"Zusammenfassung",totalCats:"Gesamtzahl Katzen",adoptedCats:"Adoptierte Katzen",pendingCats:"Ausstehende Katzen",actions:"Aktionen",language:"Sprache",manageUsers:"Benutzer verwalten"},catList:{title:"Katzenliste",addNew:"Neue Katze hinzufügen",noResults:"Keine Katzen mit den angewendeten Filtern gefunden",viewDetails:"Details anzeigen"},catDetail:{title:"Katzendetails",basicInfo:"Grundinformationen",healthInfo:"Gesundheitsinformationen",compatibility:"Kompatibilität",photos:"Fotos",addPhoto:"Foto hinzufügen",deletePhoto:"Foto löschen",adoptionStatus:"Adoptionsstatus",adopted:"Adoptiert",available:"Verfügbar",deceased:"Verstorben",sponsorship:"Patenschaft",sponsored:"Gesponsert",notSponsored:"Nicht gesponsert",confirmDelete:"Sind Sie sicher, dass Sie diese Katze als verstorben markieren möchten?",noData:"Keine Katze ausgewählt",markDeceased:"Als verstorben markieren",startAdoption:"Adoption starten",adoptionProcessStarted:"Adoptionsprozess gestartet",age:"Alter",families:"Familien",children:"Kinder",quietHome:"Ruhiges Zuhause",outdoor:"Draußen",indoor:"Drinnen",notSpecified:"Nicht angegeben",missing:"Vermisst",deathDate:"Todesdatum",currentStatus:"Aktueller Status",characterAndCompatibility:"Charakter und Kompatibilität",character:"Charakter",compatibleWith:"Kompatibel mit",preferredEnvironment:"Bevorzugte Umgebung",history:"Geschichte",healthNotes:"Gesundheitshinweise (Nur für Tierärzte)",noHealthNotes:"Keine Gesundheitshinweise aufgezeichnet",addHealthNotes:"Hinweise hinzufügen",addHealthNotesAlert:"Funktion zum Hinzufügen von Gesundheitshinweisen in Entwicklung",adoptionProcess:"Adoptionsprozess",alreadyAdopted:"Diese Katze wurde bereits adoptiert",viewAdoptionDetails:"Details anzeigen",availableForAdoption:"Verfügbar für Adoption",manageAdoptions:"Anträge verwalten",manageAdoptionApplications:"Funktion zur Verwaltung von Adoptionsanträgen in Entwicklung",viewAdoptionDetails:"Funktion zur Anzeige von Adoptionsdetails in Entwicklung",photo:"Foto",photos:"Fotos"},catForm:{newCat:"Neue Katze",editCat:"Katze bearbeiten",name:"Name",sex:"Geschlecht",male:"Männlich",female:"Weiblich",birthDate:"Geburtsdatum",arrivalYear:"Ankunftsjahr",collectionPlace:"Fundort",tested:"Getestet",neutered:"Kastriert",adopted:"Adoptiert",sponsored:"Gesponsert",goodWithKids:"Gut mit Kindern",goodWithOtherCats:"Gut mit anderen Katzen",needsQuietHome:"Benötigt ruhiges Zuhause",indoor:"Innenhaltung",outdoor:"Freigänger",description:"Beschreibung",saveSuccess:"Katze erfolgreich gespeichert",saveError:"Fehler beim Speichern der Katze"},searchFilters:{title:"Suchfilter",clearFilters:"Filter löschen",name:"Name",namePlaceholder:"Nach Namen suchen...",collectionPlace:"Fundort",collectionPlacePlaceholder:"Nach Ort suchen...",sex:"Geschlecht",all:"Alle",male:"Männlich",female:"Weiblich",adoptionStatus:"Adoptionsstatus",adopted:"Adoptiert",available:"Verfügbar",tested:"Getestet",neutered:"Kastriert",sponsored:"Gesponsert",yes:"Ja",no:"Nein",activeFilters:"Aktive Filter"},photoManager:{title:"Fotomanager",upload:"Hochladen",delete:"Löschen",setAsMain:"Als Hauptbild festlegen",dragAndDrop:"Ziehen Sie Ihre Fotos hierher",or:"oder",browseFiles:"Dateien durchsuchen",noPhotos:"Keine Fotos verfügbar",uploadPhotos:"Fotos hinzufügen",addMorePhotos:"Weitere Fotos hinzufügen",addByUrl:"Per URL hinzufügen",enterImageUrl:"Geben Sie die Bild-URL ein",confirmDeletePhoto:"Sind Sie sicher, dass Sie dieses Foto löschen möchten?",photoDeleted:"Foto erfolgreich gelöscht",photoDeletedUIOnly:"Foto aus der Benutzeroberfläche entfernt, aber es gab ein Problem mit dem Speicher",errorDeletingPhoto:"Fehler beim Löschen des Fotos",photoAdded:"Foto erfolgreich hinzugefügt",uploadingPhotos:"Fotos werden hochgeladen...",uploadSuccess:"Fotos erfolgreich hochgeladen",uploadPartialError:"Einige Fotos konnten nicht hochgeladen werden",uploadError:"Fehler beim Hochladen der Fotos",photoAddedTemporarily:"Foto vorübergehend hinzugefügt. Es wird beim Speichern der Katze hochgeladen",processingUrl:"URL wird verarbeitet...",urlUploadSuccess:"Bild von URL erfolgreich hochgeladen",urlUploadError:"Bild von URL konnte nicht hochgeladen werden",urlProcessError:"Fehler bei der Verarbeitung der Bild-URL"},userManagement:{title:"Benutzerverwaltung",addUser:"Benutzer hinzufügen",editUser:"Benutzer bearbeiten",deleteUser:"Benutzer löschen",username:"Benutzername",password:"Passwort",name:"Name",surname:"Nachname",email:"E-Mail",role:"Rolle",admin:"Administrator",volunteer:"Freiwilliger",adoption:"Adoption",veterinarian:"Tierarzt",saveSuccess:"Benutzer erfolgreich gespeichert",saveError:"Fehler beim Speichern des Benutzers",confirmDelete:"Sind Sie sicher, dass Sie diesen Benutzer löschen möchten?",noUsers:"Keine Benutzer verfügbar"}},b0={es:_0,en:k0,de:S0},xh=A.createContext(),Mt=()=>A.useContext(xh),j0=({children:t})=>{const[e,r]=A.useState(()=>localStorage.getItem("language")||"es");A.useEffect(()=>{localStorage.setItem("language",e)},[e]);const n=o=>{r(o)},s=o=>{if(!o)return"";const i=o.split(".");let a=b0[e];if(!a)return o;for(const l of i){if(!a||!a[l])return o;a=a[l]}return a};return c.jsx(xh.Provider,{value:{language:e,changeLanguage:n,t:s},children:t})},Tu={es:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA3NTAgNTAwIj48cGF0aCBmaWxsPSIjYzYwYjFlIiBkPSJNMCAwaDc1MHY1MDBIMHoiLz48cGF0aCBmaWxsPSIjZmZjNDAwIiBkPSJNMCAxMjVoNzUwdjI1MEgweiIvPjwvc3ZnPg==",en:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwMCIgaGVpZ2h0PSI2MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEyMDAiIGhlaWdodD0iNjAwIiBmaWxsPSIjMDAwMDk1Ii8+PHBhdGggc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjEyMCIgZD0iTTAgMGwxMjAwIDYwMG0wLTYwMEwwIDYwMCIvPjxwYXRoIHN0cm9rZT0iI2ZmMDAwMCIgc3Ryb2tlLXdpZHRoPSI4MCIgZD0iTTAgMGwxMjAwIDYwMG0wLTYwMEwwIDYwMCIgLz48cmVjdCB3aWR0aD0iMTIwMCIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiIHk9IjI0MCIvPjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iNjAwIiBmaWxsPSIjZmZmIiB4PSI1NDAiLz48cmVjdCB3aWR0aD0iMTIwMCIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZjAwMDAiIHk9IjI0MCIvPjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iNjAwIiBmaWxsPSIjZmYwMDAwIiB4PSI1NDAiLz48L3N2Zz4=",de:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAwIDYwMCI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMGgxMDAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNmZjAwMDAiIGQ9Ik0wIDIwMGgxMDAwdjIwMEgweiIvPjxwYXRoIGZpbGw9IiNmZmNlMDAiIGQ9Ik0wIDQwMGgxMDAwdjIwMEgweiIvPjwvc3ZnPg=="},_h=()=>{const{language:t,changeLanguage:e}=Mt(),[r,n]=A.useState(!1),s=A.useRef(null);A.useEffect(()=>{const a=l=>{s.current&&!s.current.contains(l.target)&&n(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]);const o=Tu[t],i=a=>a==="es"?"Español":a==="en"?"English":"Deutsch";return c.jsxs("div",{className:"relative",ref:s,children:[c.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 transition",children:[c.jsx("img",{src:o,alt:i(t),className:"w-6 h-4 object-cover rounded"}),c.jsx("span",{children:i(t)}),c.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50 py-1 border border-gray-200",children:Object.entries(Tu).map(([a,l])=>c.jsxs("button",{onClick:()=>{e(a),n(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 flex items-center space-x-3 ${t===a?"bg-gray-100 font-medium":""}`,children:[c.jsx("img",{src:l,alt:i(a),className:"w-6 h-4 object-cover rounded"}),c.jsx("span",{children:i(a)})]},a))})]})},E0=()=>{const[t,e]=A.useState(""),[r,n]=A.useState(""),{login:s,loading:o,error:i}=Hn(),a=Mt(),l=(a==null?void 0:a.t)||(d=>d),u=async d=>{if(d.preventDefault(),!(!t||!r))try{await s(t,r)}catch(h){console.error("Error durante el inicio de sesión:",h)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:c.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-xl shadow-lg",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"flex justify-end mb-4",children:c.jsx(_h,{})}),c.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:l("general.appName")}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Michi Gestión"})]}),o?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),c.jsx("span",{className:"ml-3 text-indigo-600",children:l("general.loading")})]}):c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[i&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:i}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:l("login.email")}),c.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t,onChange:d=>e(d.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:l("login.email")})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:l("login.password")}),c.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:d=>n(d.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:l("login.password")})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200",disabled:o,children:l(o?"general.loading":"login.submit")})}),c.jsxs("div",{className:"text-center text-sm text-gray-500",children:[c.jsxs("p",{className:"mb-1",children:[l("login.availableUsers"),":"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"elena"})," / lopez"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"voluntario1"})," / vol123"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"voluntario2"})," / vol456"]})]}),c.jsxs("div",{children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"adopcion"})," / adop123"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"veterinario"})," / vet123"]})]})]})]})]})]})})},si=({permission:t,children:e,fallback:r=null})=>{const{user:n}=Hn();return!n||!n.permissions?r:n.permissions[t]?e:r},kh=()=>{const{user:t}=Hn();return{hasPermission:r=>!t||!t.permissions?!1:!!t.permissions[r],permissions:(t==null?void 0:t.permissions)||{}}},N0=()=>{const{searchCats:t}=Wn(),{t:e}=Mt(),[r,n]=A.useState({nombre:"",sexo:"",adoptado:"",testado:"",castrado:"",apadrinado:"",lugarRecogida:""}),s=i=>{const{name:a,value:l}=i.target,u={...r,[a]:l};n(u),t(u)},o=()=>{const i={nombre:"",sexo:"",adoptado:"",testado:"",castrado:"",apadrinado:"",lugarRecogida:""};n(i),t(i)};return c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e("searchFilters.title")}),c.jsx("button",{onClick:o,className:"text-sm text-indigo-600 hover:text-indigo-800 transition",children:e("searchFilters.clearFilters")})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("searchFilters.name")}),c.jsx("input",{type:"text",name:"nombre",value:r.nombre,onChange:s,placeholder:e("searchFilters.namePlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("searchFilters.collectionPlace")}),c.jsx("input",{type:"text",name:"lugarRecogida",value:r.lugarRecogida,onChange:s,placeholder:e("searchFilters.collectionPlacePlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("searchFilters.sex")}),c.jsxs("select",{name:"sexo",value:r.sexo,onChange:s,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[c.jsx("option",{value:"",children:e("searchFilters.all")}),c.jsx("option",{value:!0,children:e("searchFilters.male")}),c.jsx("option",{value:!1,children:e("searchFilters.female")})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("searchFilters.adoptionStatus")}),c.jsxs("select",{name:"adoptado",value:r.adoptado,onChange:s,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[c.jsx("option",{value:"",children:e("searchFilters.all")}),c.jsx("option",{value:!0,children:e("searchFilters.adopted")}),c.jsx("option",{value:!1,children:e("searchFilters.available")})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("searchFilters.tested")}),c.jsxs("select",{name:"testado",value:r.testado,onChange:s,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[c.jsx("option",{value:"",children:e("searchFilters.all")}),c.jsx("option",{value:!0,children:e("searchFilters.yes")}),c.jsx("option",{value:!1,children:e("searchFilters.no")})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("searchFilters.neutered")}),c.jsxs("select",{name:"castrado",value:r.castrado,onChange:s,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[c.jsx("option",{value:"",children:e("searchFilters.all")}),c.jsx("option",{value:!0,children:e("searchFilters.yes")}),c.jsx("option",{value:!1,children:e("searchFilters.no")})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e("searchFilters.sponsored")}),c.jsxs("select",{name:"apadrinado",value:r.apadrinado,onChange:s,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:[c.jsx("option",{value:"",children:e("searchFilters.all")}),c.jsx("option",{value:!0,children:e("searchFilters.yes")}),c.jsx("option",{value:!1,children:e("searchFilters.no")})]})]})]}),Object.values(r).some(i=>i!=="")&&c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsxs("span",{className:"mr-2",children:[e("searchFilters.activeFilters"),":"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(r).filter(([i,a])=>a!=="").map(([i,a])=>c.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded-full text-xs",children:[i,": ",typeof a=="boolean"?e(a?"searchFilters.yes":"searchFilters.no"):a]},i))})]})})]})},Sh=t=>{if(!t)return"Desconocida";const e=new Date(t),n=Math.abs(new Date-e),s=Math.ceil(n/(1e3*60*60*24));if(s<30)return`${s} días`;if(s<365){const o=Math.floor(s/30);return`${o} ${o===1?"mes":"meses"}`}else{const o=Math.floor(s/365),i=Math.floor(s%365/30);return i===0?`${o} ${o===1?"año":"años"}`:`${o} ${o===1?"año":"años"} y ${i} ${i===1?"mes":"meses"}`}},oi=t=>{if(!t)return"No especificada";const e=new Date(t),r={year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString("es-ES",r)},C0=({cat:t,onViewDetail:e})=>{Sh(t.fechaNacimiento);const r=t.fotos&&t.fotos.length>0?t.fotos[0]:null,{t:n}=Mt(),[s,o]=A.useState(!1),[i,a]=A.useState(!1),l=()=>{const h=[];return t.adoptado&&h.push({text:n("catDetail.adopted"),color:"bg-green-100 text-green-800"}),t.apadrinado&&h.push({text:n("catDetail.sponsored"),color:"bg-blue-100 text-blue-800"}),t.desaparecido&&h.push({text:n("catDetail.deceased"),color:"bg-red-100 text-red-800"}),t.testado||h.push({text:n("searchFilters.tested")+": "+n("searchFilters.no"),color:"bg-yellow-100 text-yellow-800"}),t.castrado||h.push({text:n("searchFilters.neutered")+": "+n("searchFilters.no"),color:"bg-orange-100 text-orange-800"}),h},u=()=>{console.log(`Error al cargar imagen para el gato ${t.nombre}: ${r}`),o(!0)},d=()=>{console.log(`Imagen cargada correctamente para ${t.nombre}`),a(!0)};return A.useEffect(()=>{if(a(!1),o(!1),r){console.log(`Intentando cargar imagen para ${t.nombre}: ${r}`);const h=new Image;h.onload=d,h.onerror=u;const f=r.includes("supabase")?`${r}?t=${new Date().getTime()}`:r;h.src=f}},[t.id,t.nombre,r]),c.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 overflow-hidden",children:[c.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[r&&!s?c.jsx("img",{src:r,alt:t.nombre,className:`w-full h-full object-cover ${i?"opacity-100 transition-opacity duration-200":"opacity-0"}`,onError:u,onLoad:d}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:c.jsx("svg",{className:"w-12 h-12",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),c.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-1 items-end",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.sexo?"bg-blue-100 text-blue-800":"bg-pink-100 text-pink-800"}`,children:t.sexo?n("catForm.male"):n("catForm.female")})})]}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:t.nombre}),c.jsx("span",{className:"text-sm text-gray-500",children:t.fechaNacimiento})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.lugarRecogida}),c.jsxs("div",{className:"space-y-1 mb-3 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-500",children:[n("searchFilters.tested"),":"]}),c.jsx("span",{className:t.testado?"text-green-600":"text-red-600",children:t.testado?n("searchFilters.yes"):n("searchFilters.no")})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-500",children:[n("searchFilters.neutered"),":"]}),c.jsx("span",{className:t.castrado?"text-green-600":"text-red-600",children:t.castrado?n("searchFilters.yes"):n("searchFilters.no")})]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:l().slice(0,2).map((h,f)=>c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.color}`,children:h.text},f))}),t.caracter&&c.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:t.caracter}),c.jsx("button",{onClick:e,className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 text-sm font-medium",children:n("catList.viewDetails")})]})]})},P0=({onViewDetail:t})=>{const{filteredCats:e,loading:r,setSelectedCat:n}=Wn(),{t:s}=Mt(),o=i=>{n(i),t(i)};return r?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):e.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-500 text-lg mb-2",children:s("catList.noResults")}),c.jsx("p",{className:"text-gray-400",children:s("searchFilters.clearFilters")})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[s("catList.title")," (",e.length,")"]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(i=>c.jsx(C0,{cat:i,onViewDetail:()=>o(i)},i.id))})]})},bh=({catId:t,catName:e,photos:r=[],onPhotosChange:n,readOnly:s=!1})=>{const[o,i]=A.useState(0),[a,l]=A.useState(null),[u,d]=A.useState({show:!1,message:"",type:""}),[h,f]=A.useState(!1),v=Mt(),y=(v==null?void 0:v.t)||(b=>b),x=(b,I="success")=>{d({show:!0,message:b,type:I}),setTimeout(()=>{d({show:!1,message:"",type:""})},3e3)},S=async()=>{if(!t||!e){console.log("No se puede recargar fotos sin catId o catName");return}try{console.log(`Recargando fotos para el gato ${e} (ID: ${t})`);const b=new Date().getTime();console.log(`Recargar fotos con timestamp: ${b}`);const I=await ot.getAllPhotosFromBucket(e);if(I&&I.length>0){console.log(`Se recargaron ${I.length} fotos del storage:`,I);const N=[...I];return n==null||n(N),o>=N.length&&i(Math.max(0,N.length-1)),N}else return console.log("No se encontraron fotos en el storage"),n==null||n([]),[]}catch(b){return console.error("Error al recargar fotos desde el storage:",b),[]}},g=async b=>{const I=Array.from(b.target.files);if(I.length!==0){f(!0),x(y("photoManager.uploadingPhotos"),"info");try{const N=[];for(const M of I){const ue=await p(M);N.push(ue)}const F=[...r,...N];if(n==null||n(F),t&&e)if((await ot.uploadCatPhotos(t,N,e)).success){console.log("Subida exitosa, recargando todas las fotos desde el storage...");const ue=await S();console.log("Fotos recargadas desde storage:",ue),ue&&ue.length>0?(console.log(`Se cargaron ${ue.length} fotos frescas del storage`),x(y("photoManager.uploadSuccess"),"success")):(console.warn("No se obtuvieron fotos frescas, intentando recargar nuevamente..."),setTimeout(async()=>{const Qe=await S();Qe&&Qe.length>0&&console.log(`Segundo intento: se cargaron ${Qe.length} fotos`)},1e3),x(y("photoManager.uploadSuccess"),"success"))}else x(y("photoManager.uploadPartialError"),"warning");else x(y("photoManager.photoAddedTemporarily"),"info")}catch(N){console.error("Error al subir fotos:",N),x(y("photoManager.uploadError"),"error")}finally{f(!1)}}},p=b=>new Promise((I,N)=>{const F=new FileReader;F.onload=M=>I(M.target.result),F.onerror=M=>N(M),F.readAsDataURL(b)}),m=async()=>{const b=prompt(y("photoManager.enterImageUrl"));if(!(!b||!b.trim())){f(!0),x(y("photoManager.processingUrl"),"info");try{const I=[...r,b.trim()];if(n==null||n(I),t&&e)if((await ot.uploadCatPhotos(t,[b.trim()],e)).success){console.log("URL subida exitosamente, recargando todas las fotos desde el storage...");const F=await S();console.log("Fotos recargadas desde storage después de subir URL:",F),F&&F.length>0?(console.log(`Se cargaron ${F.length} fotos frescas del storage después de subir URL`),x(y("photoManager.urlUploadSuccess"),"success")):(console.warn("No se obtuvieron fotos frescas después de subir URL, intentando recargar nuevamente..."),setTimeout(async()=>{const M=await S();M&&M.length>0&&console.log(`Segundo intento después de subir URL: se cargaron ${M.length} fotos`)},1e3),x(y("photoManager.urlUploadSuccess"),"success"))}else x(y("photoManager.urlUploadError"),"warning");else x(y("photoManager.photoAddedTemporarily"),"info")}catch(I){console.error("Error al procesar URL:",I),x(y("photoManager.urlProcessError"),"error")}finally{f(!1)}}},w=async b=>{if(window.confirm(y("photoManager.confirmDeletePhoto"))){const I=r[b];try{if(I.includes("supabase.co")){const N=e||(t?`gato-${t}`:"unknown");if(console.log(`Eliminando foto ${I} del gato ${N}`),await ot.deletePhotoFromBucket(I,N)){if(console.log("Foto eliminada con éxito del storage"),t&&e){console.log("Recargando fotos después de eliminar...");const M=await S();console.log("Fotos recargadas después de eliminar:",M),(!M||M.length===0)&&(console.warn("No se obtuvieron fotos después de eliminar, intentando recargar nuevamente..."),setTimeout(async()=>{await S()},1e3))}else{const M=r.filter((ue,Qe)=>Qe!==b);n==null||n(M),o>=M.length&&i(Math.max(0,M.length-1))}x(y("photoManager.photoDeleted"),"success")}else{console.warn("No se pudo eliminar la foto del storage, pero se eliminará de la UI");const M=r.filter((ue,Qe)=>Qe!==b);n==null||n(M),o>=M.length&&i(Math.max(0,M.length-1)),x(y("photoManager.photoDeletedUIOnly"),"warning")}}else{const N=r.filter((F,M)=>M!==b);n==null||n(N),o>=N.length&&i(Math.max(0,N.length-1)),x(y("photoManager.photoDeleted"),"success")}}catch(N){console.error("Error al eliminar la foto del storage:",N),x(y("photoManager.errorDeletingPhoto"),"error");const F=r.filter((M,ue)=>ue!==b);n==null||n(F),o>=F.length&&i(Math.max(0,F.length-1))}}},_=(b,I)=>{l(I),b.dataTransfer.effectAllowed="move"},k=b=>{b.preventDefault(),b.dataTransfer.dropEffect="move"},j=(b,I)=>{if(b.preventDefault(),a===null||a===I)return;const N=[...r],F=N[a];N.splice(a,1),N.splice(I,0,F),n==null||n(N),i(I),l(null)};return A.useEffect(()=>{r.length>0&&d({show:!1,message:"",type:""})},[r]),A.useEffect(()=>{if(t&&e){console.log(`Cargando fotos al montar o cambiar gato: ${e} (ID: ${t})`),i(0);const b=setTimeout(()=>{S().then(I=>{console.log(`Fotos recargadas en useEffect: ${(I==null?void 0:I.length)||0} fotos`),(!I||I.length===0)&&(console.warn("No se obtuvieron fotos en la primera carga, intentando recargar nuevamente..."),setTimeout(()=>{S()},1500))})},500);return()=>clearTimeout(b)}},[t,e]),r.length===0?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"h-96 bg-gray-100 rounded-lg flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("p",{className:"text-gray-500 text-lg",children:y("photoManager.noPhotos")})]})}),!s&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{children:[c.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:g,className:"hidden",id:`file-upload-${t}`}),c.jsxs("label",{htmlFor:`file-upload-${t}`,className:"w-full flex justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer transition",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),y("photoManager.uploadPhotos")]})]}),c.jsx("button",{type:"button",onClick:m,className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition",children:y("photoManager.addByUrl")})]})]}):c.jsxs("div",{className:"space-y-4",children:[u.show&&c.jsx("div",{className:`px-4 py-3 rounded-md mb-4 ${u.type==="success"?"bg-green-100 text-green-800":u.type==="error"?"bg-red-100 text-red-800":u.type==="info"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:u.message}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:c.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-8 w-8 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("p",{className:"text-lg font-medium text-gray-800",children:y("photoManager.uploadingPhotos")})]})})}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"h-96 bg-gray-100 rounded-lg overflow-hidden",children:c.jsx("img",{src:r[o],alt:`Foto ${o+1}`,className:"w-full h-full object-contain",onError:b=>{b.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQgMTZMMTAuNTg2IDkuNDE0QzExLjM2NyA4LjYzMyAxMi42MzMgOC42MzMgMTMuNDE0IDkuNDE0TDE2IDEyTTEyIDhIMTJNNiAyMEgxOEMyMC4yMDkxIDIwIDIyIDE4LjIwOTEgMjIgMTZWOEMyMiA1Ljc5MDg2IDIwLjIwOTEgNCA1IDRINkM0Ljc5MDg2IDQgNCA0Ljc5MDg2IDQgNlYxNkM0IDE4LjIwOTEgNS43OTA4NiAyMCA4IDIwWiIgc3Ryb2tlPSIjOUI5QjlCIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}})}),r.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>i(b=>b>0?b-1:r.length-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-70 transition",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),c.jsx("button",{onClick:()=>i(b=>b<r.length-1?b+1:0),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-70 transition",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),!s&&c.jsx("button",{onClick:()=>w(o),className:"absolute top-3 right-3 bg-red-600 bg-opacity-80 text-white p-2 rounded-full hover:bg-opacity-100 transition",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsxs("div",{className:"absolute bottom-3 right-3 bg-black bg-opacity-60 text-white px-3 py-1 rounded text-sm",children:[o+1," / ",r.length]})]}),r.length>1&&c.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-3 justify-center",children:r.map((b,I)=>c.jsx("div",{className:`relative flex-shrink-0 cursor-pointer ${s?"":"cursor-move"}`,draggable:!s,onDragStart:N=>_(N,I),onDragOver:k,onDrop:N=>j(N,I),children:c.jsx("div",{className:`w-24 h-24 rounded border-2 overflow-hidden transition ${o===I?"border-indigo-500":"border-gray-300"}`,onClick:()=>i(I),children:c.jsx("img",{src:b,alt:`Miniatura ${I+1}`,className:"w-full h-full object-cover",onError:N=>{N.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQgMTZMMTAuNTg2IDkuNDE0QzExLjM2NyA4LjYzMyAxMi42MzMgOC42MzMgMTMuNDE0IDkuNDE0TDE2IDEyTTEyIDhIMTJNNiAyMEgxOEMyMC4yMDkxIDIwIDIyIDE4LjIwOTEgMjIgMTZWOEMyMiA1Ljc5MDg2IDIwLjIwOTEgNCA1IDRINkM0Ljc5MDg2IDQgNCA0Ljc5MDg2IDQgNlYxNkM0IDE4LjIwOTEgNS43OTA4NiAyMCA4IDIwWiIgc3Ryb2tlPSIjOUI5QjlCIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}})})},I))}),!s&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{children:[c.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:g,className:"hidden",id:`file-upload-${t}`,disabled:h}),c.jsx("label",{htmlFor:`file-upload-${t}`,className:`w-full flex justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium ${h?"bg-gray-100 text-gray-400 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-50 cursor-pointer"} transition`,children:h?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y("photoManager.uploadingPhotos")]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),y("photoManager.addMorePhotos")]})})]}),c.jsx("button",{type:"button",onClick:m,className:`w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium ${h?"bg-gray-100 text-gray-400 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-50 cursor-pointer"} transition`,disabled:h,children:h?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 inline-block h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y("photoManager.processingUrl")]}):y("photoManager.addByUrl")})]}),u.show&&c.jsx("div",{className:`fixed bottom-5 right-5 mb-4 mr-4 p-3 rounded-lg shadow-lg text-sm ${u.type==="success"?"bg-green-100 text-green-800":u.type==="error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:u.message})]})},I0=({onEdit:t,onBack:e})=>{const{selectedCat:r,deleteCat:n}=Wn(),{hasPermission:s}=kh(),o=Mt(),i=(o==null?void 0:o.t)||(f=>f);if(!r)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-gray-500",children:i("catDetail.noData")}),c.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition",children:i("general.back")})]});const a=r,l=Sh(a.fechaNacimiento),u=async()=>{if(window.confirm(i("catDetail.confirmDelete")))try{await n(a.id),e()}catch(f){console.error("Error al eliminar el gato:",f)}},d=()=>{const f=[];return a.familia&&f.push(i("catDetail.families")),a.compatibleNinos&&f.push(i("catDetail.children")),a.casaTranquila&&f.push(i("catDetail.quietHome")),f.length>0?f.join(", "):i("catDetail.notSpecified")},h=()=>{const f=[];return a.gatoAireLibre&&f.push(i("catDetail.outdoor")),a.gatoInterior&&f.push(i("catDetail.indoor")),f.length>0?f.join(", "):i("catDetail.notSpecified")};return c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:e,className:"flex items-center px-3 py-2 text-gray-600 hover:text-gray-800 transition",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),i("general.back")]}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.nombre})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(si,{permission:"canEdit",children:c.jsx("button",{onClick:t,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition",children:i("general.edit")})}),c.jsx(si,{permission:"canDelete",children:c.jsx("button",{onClick:u,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:i("catDetail.markDeceased")})}),c.jsx(si,{permission:"canAdopt",children:c.jsx("button",{onClick:()=>alert(i("catDetail.adoptionProcessStarted")),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition",children:i("catDetail.startAdoption")})})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:i("catDetail.photos")}),c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsx(bh,{catId:a.id,catName:a.nombre,photos:a.fotos||[],readOnly:!s("canManagePhotos")}),a.fotos&&a.fotos.length>0&&c.jsxs("p",{className:"text-sm text-gray-500 mt-2 text-center",children:[a.fotos.length," ",a.fotos.length===1?i("catDetail.photo"):i("catDetail.photos")]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:i("catDetail.basicInfo")}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-500",children:i("catForm.name")}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.nombre})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-500",children:i("catDetail.age")}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-500",children:i("catForm.sex")}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.sexo?i("catForm.male"):i("catForm.female")})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-500",children:i("catForm.collectionPlace")}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.lugarRecogida})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-500",children:i("catForm.birthDate")}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:oi(a.fechaNacimiento)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-500",children:i("catForm.arrivalYear")}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:oi(a.anoLlegada)})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:i("catDetail.healthInfo")}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("span",{className:"text-sm font-medium text-gray-500 mr-3",children:[i("catForm.tested"),":"]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.testado?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.testado?i("searchFilters.yes"):i("searchFilters.no")})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("span",{className:"text-sm font-medium text-gray-500 mr-3",children:[i("catForm.neutered"),":"]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.castrado?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.castrado?i("searchFilters.yes"):i("searchFilters.no")})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:i("catDetail.currentStatus")}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("span",{className:"text-sm font-medium text-gray-500 mr-3",children:[i("catDetail.adopted"),":"]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.adoptado?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.adoptado?i("searchFilters.yes"):i("searchFilters.no")})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("span",{className:"text-sm font-medium text-gray-500 mr-3",children:[i("catDetail.sponsored"),":"]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.apadrinado?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:a.apadrinado?i("searchFilters.yes"):i("searchFilters.no")})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("span",{className:"text-sm font-medium text-gray-500 mr-3",children:[i("catDetail.missing"),":"]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.desaparecido?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:a.desaparecido?i("searchFilters.yes"):i("searchFilters.no")})]}),a.fechaFallecido&&c.jsxs("div",{className:"flex items-center",children:[c.jsxs("span",{className:"text-sm font-medium text-gray-500 mr-3",children:[i("catDetail.deathDate"),":"]}),c.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:oi(a.fechaFallecido)})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:i("catDetail.characterAndCompatibility")}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:i("catDetail.character")}),c.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:a.caracter||i("catDetail.notSpecified")})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-500",children:i("catDetail.compatibleWith")}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d()})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-500",children:i("catDetail.preferredEnvironment")}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:h()})]})]})]})]}),a.historia&&c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:i("catDetail.history")}),c.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-4 rounded-md leading-relaxed",children:a.historia})]})]})]})]})},Lu=({cat:t,onSuccess:e,onCancel:r})=>{const{createCat:n,updateCat:s}=Wn(),o=!!t,[i,a]=A.useState({nombre:"",fechaNacimiento:"",lugarRecogida:"",testado:!1,castrado:!1,sexo:!0,caracter:"",gatoAireLibre:!1,gatoInterior:!1,familia:!1,compatibleNinos:!1,casaTranquila:!1,historia:"",apadrinado:!1,adoptado:!1,desaparecido:!1,fechaFallecido:"",anoLlegada:"",fotos:[]}),[l,u]=A.useState(!1),[d,h]=A.useState({}),[f,v]=A.useState(!1),[y,x]=A.useState(!1);A.useEffect(()=>{t&&a({nombre:t.nombre||"",fechaNacimiento:t.fechaNacimiento||"",lugarRecogida:t.lugarRecogida||"",testado:t.testado||!1,castrado:t.castrado||!1,sexo:t.sexo??!0,caracter:t.caracter||"",gatoAireLibre:t.gatoAireLibre||!1,gatoInterior:t.gatoInterior||!1,familia:t.familia||!1,compatibleNinos:t.compatibleNinos||!1,casaTranquila:t.casaTranquila||!1,historia:t.historia||"",apadrinado:t.apadrinado||!1,adoptado:t.adoptado||!1,desaparecido:t.desaparecido||!1,fechaFallecido:t.fechaFallecido||"",anoLlegada:t.anoLlegada||"",fotos:t.fotos||[]})},[t]);const S=_=>{const{name:k,value:j,type:b,checked:I}=_.target;a(N=>({...N,[k]:b==="checkbox"?I:j})),d[k]&&h(N=>({...N,[k]:null})),v(!0)},g=()=>{const _={};return i.nombre.trim()||(_.nombre="El nombre es obligatorio"),i.fechaNacimiento||(_.fechaNacimiento="La fecha de nacimiento es obligatoria"),i.lugarRecogida.trim()||(_.lugarRecogida="El lugar de recogida es obligatorio"),h(_),Object.keys(_).length===0},p=async _=>{if(_.preventDefault(),!!g()){u(!0);try{o?await s(t.id,i):await n(i),x(!0),setTimeout(()=>{e()},1e3)}catch(k){console.error("Error guardando el gato:",k),h({submit:"Ocurrió un error al guardar los cambios. Por favor, inténtalo de nuevo."})}finally{u(!1)}}},m=()=>{f&&!y&&!window.confirm("Hay cambios sin guardar. ¿Estás seguro de que deseas cancelar?")||r()},w=_=>{a(k=>({...k,fotos:_})),v(!0)};return c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:o?`Editar ${t.nombre}`:"Añadir Nuevo Gato"}),c.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition",children:"Cancelar"})]}),c.jsxs("form",{onSubmit:p,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Fotos"}),c.jsx(bh,{catId:t==null?void 0:t.id,catName:i.nombre,photos:i.fotos,onPhotosChange:w})]})}),c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información Básica"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre *"}),c.jsx("input",{type:"text",name:"nombre",value:i.nombre,onChange:S,readOnly:o,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${d.nombre?"border-red-300":"border-gray-300"} ${o?"bg-gray-100 cursor-not-allowed":""}`}),d.nombre&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.nombre})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sexo"}),c.jsxs("select",{name:"sexo",value:i.sexo,onChange:S,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[c.jsx("option",{value:!0,children:"Macho"}),c.jsx("option",{value:!1,children:"Hembra"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Nacimiento *"}),c.jsx("input",{type:"date",name:"fechaNacimiento",value:i.fechaNacimiento,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${d.fechaNacimiento?"border-red-300":"border-gray-300"}`}),d.fechaNacimiento&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.fechaNacimiento})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Año de Llegada"}),c.jsx("input",{type:"date",name:"anoLlegada",value:i.anoLlegada,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${d.anoLlegada?"border-red-300":"border-gray-300"}`}),d.anoLlegada&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.anoLlegada})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lugar de Recogida *"}),c.jsx("input",{type:"text",name:"lugarRecogida",value:i.lugarRecogida,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${d.lugarRecogida?"border-red-300":"border-gray-300"}`}),d.lugarRecogida&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.lugarRecogida})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Estado de Salud"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"testado",checked:i.testado,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Testado"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"castrado",checked:i.castrado,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Castrado"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Entorno y Compatibilidad"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"gatoAireLibre",checked:i.gatoAireLibre,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Gato al aire libre"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"gatoInterior",checked:i.gatoInterior,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Gato de interior"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"familia",checked:i.familia,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Apto para familias"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"compatibleNinos",checked:i.compatibleNinos,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Compatible con niños"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"casaTranquila",checked:i.casaTranquila,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Necesita casa tranquila"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Estado Actual"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"adoptado",checked:i.adoptado,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Adoptado"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"apadrinado",checked:i.apadrinado,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Apadrinado"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"desaparecido",checked:i.desaparecido,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Desaparecido"})]}),o&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Fallecimiento"}),c.jsx("input",{type:"date",name:"fechaFallecido",value:i.fechaFallecido,onChange:S,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Carácter e Historia"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Carácter"}),c.jsx("textarea",{name:"caracter",value:i.caracter,onChange:S,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Describe el carácter del gato..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Historia"}),c.jsx("textarea",{name:"historia",value:i.historia,onChange:S,rows:4,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Cuenta la historia del gato..."})]})]})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[y&&c.jsx("div",{className:"mr-auto px-4 py-2 bg-green-100 text-green-800 rounded-md",children:o?"Gato actualizado correctamente.":"Gato creado correctamente."}),d.submit&&c.jsx("div",{className:"mr-auto px-4 py-2 bg-red-100 text-red-800 rounded-md",children:d.submit}),c.jsx("button",{type:"button",onClick:m,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition disabled:opacity-50",children:l?"Guardando...":o?"Actualizar":"Crear"})]})]})]})},A0=()=>{const{user:t,logout:e}=Hn(),{selectedCat:r,error:n,clearError:s}=Wn(),{t:o}=Mt(),{hasPermission:i}=kh(),[a,l]=A.useState("list"),[u,d]=A.useState("");A.useEffect(()=>{const y=window.location.hostname,x=window.location.pathname.split("/");y.includes("github.io")&&x.length>1?d(`/${x[1]}/`):d("/")},[]);const h=(y,x=null)=>{l(y)},f=()=>{l("list")},v=()=>{l("detail")};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("header",{className:"bg-white shadow-sm border-b",children:c.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center py-2",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("img",{src:`${u}assets/images/Logo_grau_mit-deutsch-300x176.jpg`,alt:"Logo Un Techo Para Gatos Callejeros",className:"h-14 w-auto"}),c.jsx("h1",{className:"text-xl font-bold text-gray-900 hidden md:block",children:o("general.appName")})]}),c.jsxs("div",{className:"flex space-x-2 justify-center",children:[c.jsx("button",{onClick:()=>h("list"),className:`px-3 py-2 rounded-md text-sm font-medium transition ${a==="list"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:o("catList.title")}),i("canCreate")&&c.jsx("button",{onClick:()=>h("create"),className:`px-3 py-2 rounded-md text-sm font-medium transition ${a==="create"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:o("catList.addNew")}),i("canManageUsers")&&c.jsx("button",{onClick:()=>alert("Funcionalidad de administración de usuarios en desarrollo"),className:"px-3 py-2 rounded-md text-sm font-medium text-gray-500 hover:text-gray-700 transition",children:o("dashboard.manageUsers")})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"hidden sm:flex items-center text-sm text-gray-700",children:[c.jsxs("span",{className:"mr-1",children:[o("dashboard.welcome"),","]}),c.jsx("span",{className:"font-medium",children:t==null?void 0:t.nombre}),(t==null?void 0:t.rol)&&c.jsx("span",{className:"ml-1 text-xs bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded",children:t.rol})]}),c.jsx(_h,{}),c.jsx("button",{onClick:e,className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition text-sm font-medium",children:o("general.logout")})]})]})})}),n&&c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:c.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md flex justify-between items-center",children:[c.jsx("span",{children:n}),c.jsx("button",{onClick:s,className:"text-red-400 hover:text-red-600",children:"✕"})]})}),c.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a==="list"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx(N0,{}),c.jsx(P0,{onViewDetail:y=>h("detail",y)})]}),a==="detail"&&r&&c.jsx(I0,{onEdit:()=>h("edit"),onBack:()=>h("list")}),a==="create"&&c.jsx(Lu,{onSuccess:f,onCancel:()=>h("list")}),a==="edit"&&r&&c.jsx(Lu,{cat:r,onSuccess:v,onCancel:()=>h("detail")})]})]})};function T0(){const[t,e]=A.useState(null),[r,n]=A.useState(null),[s,o]=A.useState(!1),[i,a]=A.useState(!1);return A.useEffect(()=>{async function l(){o(!0);try{const u=await vh.login("elena","lopez");e(u),a(!0)}catch(u){n(u.message||"Error desconocido")}finally{o(!1)}}l()},[]),c.jsxs("div",{className:"p-6 max-w-xl mx-auto my-8 bg-white rounded shadow-md",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test de Login (elena/lopez)"}),s&&c.jsxs("div",{className:"my-4 flex items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-indigo-600 mr-2"}),c.jsx("span",{children:"Probando login..."})]}),r&&c.jsxs("div",{className:"my-4 p-3 bg-red-100 border border-red-200 text-red-700 rounded",children:[c.jsx("strong",{children:"Error:"})," ",r]}),i&&!r&&c.jsx("div",{className:"my-4 p-3 bg-green-100 border border-green-200 text-green-700 rounded",children:c.jsx("strong",{children:"¡Login exitoso!"})}),t&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Datos del usuario:"}),c.jsx("pre",{className:"mt-2 p-4 bg-gray-100 rounded overflow-auto",children:JSON.stringify(t,null,2)})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition",onClick:()=>window.location.reload(),children:"Reintentar"})," ",c.jsx("button",{className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition",onClick:()=>window.history.back(),children:"Volver"})]})]})}function L0(){const{isAuthenticated:t,loading:e}=Hn();return window.location.pathname==="/test-login"?c.jsx(T0,{}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:e?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),c.jsx("p",{className:"mt-3 text-indigo-600",children:"Cargando..."})]})}):t?c.jsx(A0,{}):c.jsx(E0,{})})}function $0(){return c.jsx(j0,{children:c.jsx(y0,{children:c.jsx(x0,{children:c.jsx(L0,{})})})})}Gd(document.getElementById("root")).render(c.jsx(A.StrictMode,{children:c.jsx($0,{})}));
